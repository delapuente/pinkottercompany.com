!function(e){var t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var r,i,n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),a=function(e){function t(t){var s=e.call(this,t,0,0,"characters")||this;return s._blinkEffect=s.scene.time.addEvent({delay:100,loop:!0,repeat:1/0,callback:s._switchVisibility,callbackScope:s}),s._blinkEffect.paused=!0,s}return n(t,e),t.prototype.show=function(e,t){this.anims.play("bea-running");var s=35,r=25,i=this.body;i.setSize(s,r,!1),i.setOffset(5,this.height-r),i.reset(e,t),this.setCollideWorldBounds(!0),this.setVisible(!0),this.setActive(!0)},t.prototype.jump=function(){this.setVelocityY(-600)},t.prototype.hit=function(){var e=this;this._blinkEffect.paused&&(this._blinkEffect.paused=!1,this.scene.time.delayedCall(3e3,function(){e._blinkEffect.paused=!0,e.setVisible(!0)},[],this),this.emit("hit"))},t.prototype._switchVisibility=function(){this.setVisible(!this.visible)},t.setupAnimations=function(e){var t=e.anims;t.create({key:"bea-running",frames:t.generateFrameNames("characters",{prefix:"Bea_Run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"salva-running",frames:t.generateFrameNames("characters",{prefix:"Salva_Run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"bea-idle",frames:t.generateFrameNames("characters",{prefix:"Bea_Idle",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:2,repeat:1/0}),t.create({key:"salva-idle",frames:t.generateFrameNames("characters",{prefix:"Salva_Idle",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:2,repeat:1/0}),t.create({key:"bea-win",frames:t.generateFrameNames("characters",{prefix:"Bea_Win",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"salva-win",frames:t.generateFrameNames("characters",{prefix:"Salva_Win",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.Physics.Arcade.Sprite),o=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function r(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}(),c=function(e){function t(t){return e.call(this,t,0,0,"obstacles")||this}return o(t,e),t.prototype.show=function(e,t){this.anims.play("cacota");var s=this.body;s.reset(e,t),s.setSize(this.width/2,this.height/2,!1),s.setOffset(0,this.height/2),this.setBounce(.4),this.setVelocityX(-300),this.setVisible(!0),this.setActive(!0)},t.prototype.update=function(){this.body.right<-10&&(this.setActive(!1),this.setVisible(!1))},t.setupAnimations=function(e){var t=e.anims;t.create({key:"cacota",frames:t.generateFrameNames("obstacles",{prefix:"Poo_Idle",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.Physics.Arcade.Sprite),h=function(){function e(e,t){this._cursors=e,this._player=t}return e.prototype.update=function(e,t){this._resolveJump(e,t)},e.prototype._resolveJump=function(e,t){var s=this._player.body.touching.down,r=this._cursors.space.isDown;r&&s&&(this._jumpDeadline=e+200),r&&e<this._jumpDeadline&&this._player.jump()},e}(),p=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function r(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}(),u=["tienen baches","están bien","van guay","están chachi","son felices","son MUY felices"];!function(e){e[e.Happy=0]="Happy",e[e.Sad=1]="Sad"}(i||(i={}));var l=function(e){function t(t,s,r){var i=e.call(this,t,"metter")||this;return i._progress=0,i._currentLevel=1,i._player=s,i._depth=r,i._bubble=i.scene.add.image(0,0,"ui","Balloon"),i._bubble.depth=i._depth,i._face=i.scene.add.sprite(0,0,"ui"),i._face.depth=i._bubble.depth+1,i._hideBubble(),i._player.on("hit",i._loose,i),i._scoreText=i.scene.add.text(0,0,""),i._scoreText.depth=i._depth,i._setupLevel(i._currentLevel),i._bar=i.scene.add.graphics(),i}return p(t,e),t.prototype._setupLevel=function(e){var t=this.scene.cameras.main.width,s=this.scene.cameras.main.height;this._scoreText.setText(u[e]);var r=this._scoreText.width;this._scoreText.x=(t-r)/2,this._scoreText.y=s-45,this._progress=0},t.prototype._loose=function(){this._showBubble(i.Sad,3e3),this._progress-=.6,this._progress<0&&(this._progress=0,this._levelDown())},t.prototype._levelDown=function(){this._currentLevel>0&&(this._currentLevel--,this._setupLevel(this._currentLevel))},t.prototype._levelUp=function(){this._currentLevel<u.length-1&&(this._currentLevel++,this._setupLevel(this._currentLevel),this._showBubble(i.Happy,3e3))},t.prototype._showBubble=function(e,t){var s=this;this._bubble.setVisible(!0),this._face.setVisible(!0),this._face.anims.play(e==i.Happy?"level-up":"level-down"),this.scene.time.delayedCall(t,function(){s._hideBubble()},[],this)},t.prototype._hideBubble=function(){this._bubble.setVisible(!1),this._face.setVisible(!1)},t.prototype.update=function(e,t){this._bar.clear(),this._progress+=t/1e3*10/100,this._progress>=1&&(this._currentLevel<u.length-1?this._levelUp():this._progress=1);var s=this.scene.cameras.main.width/3,r=this.scene.cameras.main.height-15;this._bar.lineStyle(5,16777215,1),this._bar.lineBetween(s,r,s+s*this._progress,r),this._bubble.setPosition(this._player.x+15,this._player.y-this._player.height+5),this._face.setPosition(this._player.x+15,this._player.y-this._player.height-2)},t.setupAnimations=function(e){var t=e.anims;t.create({key:"level-up",frames:t.generateFrameNames("ui",{prefix:"HappyFace",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"level-down",frames:t.generateFrameNames("ui",{prefix:"SadFace",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.GameObjects.GameObject),f=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function r(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}();function d(e){return e[Math.floor(Math.random()*e.length)]}function _(e,t){var s=t-e;return Math.random()*s+e}var y,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.update=function(){this.body.right<-10&&(this.setActive(!1),this.setVisible(!1))},t}(Phaser.Physics.Arcade.Sprite),g=function(e){function t(t){var s=e.call(this,t,0,0,"deco","Grass01.png")||this;return s.setOrigin(.5,1),s}return f(t,e),t.prototype.show=function(e){this.setFrame(d(["Grass01.png","Grass02.png","Grass03.png"]));var t=this.body;this.scene.cameras.main.width;t.reset(1e3,800),this.setVelocityX(-300),this.setActive(!0),this.setVisible(!0)},t}(b),m=function(e){function t(t){var s=e.call(this,t,0,0,"deco")||this;return s.setOrigin(.5,1),s}return f(t,e),t.prototype.show=function(e,t){this.setFrame(d(["Cloud01.png","Cloud02.png","Cloud03.png","Cloud04.png"]));var s=this.body,r=Math.floor(_(this.height,e)),i=this.scene.cameras.main.width;s.setAllowGravity(!1),s.reset(i+_(this.width,1.5*this.width),r);var n=d([[10,0],[100,1],[300,2]]),a=n[0],o=n[1];this.setVelocityX(-a),this.depth=t+o,this.setActive(!0),this.setVisible(!0)},t}(b),v=function(e){function t(t,s,r,i){var n=e.call(this,t,"bg-manager")||this;return n._groundHeight=s,n._bgDepth=r,n._fgDepth=i,n._grass=n.scene.physics.add.group({classType:g,maxSize:20,runChildUpdate:!0}),n._clouds=n.scene.physics.add.group({classType:m,maxSize:10,runChildUpdate:!0}),n}return f(t,e),t.prototype.update=function(){var e=this._grass.get();e&&e.show(this._groundHeight,this._fgDepth);var t=this._clouds.get();t&&t.show(this._groundHeight/6*5,this._bgDepth)},t}(Phaser.GameObjects.GameObject);!function(e){e[e.BG=0]="BG",e[e.BG_ELEMENTS=10]="BG_ELEMENTS",e[e.PLAYER=100]="PLAYER",e[e.OBSTACLES=110]="OBSTACLES",e[e.FG=200]="FG",e[e.UI=300]="UI"}(y||(y={}));var w=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function r(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}(),O=800,x=450,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anotherObstacle=!0,t}return w(t,e),t.prototype.preload=function(){this.load.image("bg","assets/environments/background-test.png"),this.load.image("ground","assets/environments/ground-line.png"),this.load.atlas("characters","assets/characters/characters.png","assets/characters/characters.json"),this.load.atlas("obstacles","assets/obstacles/obstacles.png","assets/obstacles/obstacles.json"),this.load.atlas("ui","assets/ui/ui.png","assets/ui/ui.json"),this.load.atlas("deco","assets/environments/deco.png","assets/environments/deco.json")},t.prototype.create=function(){var e=this;a.setupAnimations(this),c.setupAnimations(this),l.setupAnimations(this);this.add.image(0,0,"bg").setOrigin(0,0);var t=this.physics.add.staticGroup();this.groundLine=t.create(0,x,"ground"),this.groundLine.setOrigin(0,1),this.groundLine.setScale(2,1),this.groundLine.refreshBody();var s=this.cameras.main.height-this.groundLine.height;this.background=new v(this.scene.scene,s,y.BG_ELEMENTS,y.FG),this.obstacles=this.physics.add.group({classType:c,maxSize:20,runChildUpdate:!0}),this.player=this.add.existing(new a(this.scene.scene)),this.player.depth=y.PLAYER,this.physics.add.existing(this.player),this.player.show(O/4,x/2),this.control=new h(this.input.keyboard.createCursorKeys(),this.player),this.hapyness=this.add.existing(new l(this.scene.scene,this.player,y.UI)),this.physics.add.collider(this.player,t),this.physics.add.collider(this.obstacles,t),this.physics.add.overlap(this.player,this.obstacles,function(t,s){e.player.hit()},null,this),this.anims.create({key:"hiding-otter",frames:this.anims.generateFrameNames("obstacles",{prefix:"Otter_Hide",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:3,repeat:1})},t.prototype.update=function(e,t){var s=this;(this.control.update(e,t),this.hapyness.update(e,t),this.background.update(),this.anotherObstacle)&&(this.anotherObstacle=!1,setTimeout(function(){return s.anotherObstacle=!0},1e3),this.obstacles.get().show(O,x/2))},t}(Phaser.Scene),S={type:Phaser.AUTO,width:O,height:x,scene:P,pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:4e3},debug:!1}},canvas:document.querySelector("canvas")};new Phaser.Game(S)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhcHB5LW8tbWV0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JzdGFjbGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVwdGhzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJ1YmJsZXMiLCJQbGF5ZXIiLCJfc3VwZXIiLCJzY2VuZSIsIl90aGlzIiwidGhpcyIsIl9ibGlua0VmZmVjdCIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwibG9vcCIsInJlcGVhdCIsIkluZmluaXR5IiwiY2FsbGJhY2siLCJfc3dpdGNoVmlzaWJpbGl0eSIsImNhbGxiYWNrU2NvcGUiLCJwYXVzZWQiLCJfX2V4dGVuZHMiLCJzaG93IiwieCIsInkiLCJhbmltcyIsInBsYXkiLCJjb2xsaXNpb25Cb3giLCJib2R5Iiwic2V0U2l6ZSIsInNldE9mZnNldCIsImhlaWdodCIsInJlc2V0Iiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0VmlzaWJsZSIsInNldEFjdGl2ZSIsImp1bXAiLCJzZXRWZWxvY2l0eVkiLCJoaXQiLCJkZWxheWVkQ2FsbCIsImVtaXQiLCJ2aXNpYmxlIiwic2V0dXBBbmltYXRpb25zIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU5hbWVzIiwicHJlZml4IiwiemVyb1BhZCIsInN0YXJ0IiwiZW5kIiwic3VmZml4IiwiZnJhbWVSYXRlIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFyY2FkZSIsIlNwcml0ZSIsIkNhY290YSIsIm9ic3RhY2xlc19leHRlbmRzIiwid2lkdGgiLCJzZXRCb3VuY2UiLCJzZXRWZWxvY2l0eVgiLCJ1cGRhdGUiLCJyaWdodCIsIkNvbnRyb2wiLCJjdXJzb3JzIiwicGxheWVyIiwiX2N1cnNvcnMiLCJfcGxheWVyIiwiZGVsdGEiLCJfcmVzb2x2ZUp1bXAiLCJvblRoZUdyb3VuZCIsInRvdWNoaW5nIiwiZG93biIsIndhbnRKdW1wIiwic3BhY2UiLCJpc0Rvd24iLCJfanVtcERlYWRsaW5lIiwic3RhdGVzIiwiSGFwcHlPTWV0ZXIiLCJkZXB0aCIsIl9wcm9ncmVzcyIsIl9jdXJyZW50TGV2ZWwiLCJfZGVwdGgiLCJfYnViYmxlIiwiYWRkIiwiaW1hZ2UiLCJfZmFjZSIsInNwcml0ZSIsIl9oaWRlQnViYmxlIiwib24iLCJfbG9vc2UiLCJfc2NvcmVUZXh0IiwidGV4dCIsIl9zZXR1cExldmVsIiwiX2JhciIsImdyYXBoaWNzIiwiaGFwcHlfb19tZXRlcl9leHRlbmRzIiwibGV2ZWwiLCJjYW1lcmFzIiwibWFpbiIsInNldFRleHQiLCJ0ZXh0V2lkdGgiLCJfc2hvd0J1YmJsZSIsIlNhZCIsIl9sZXZlbERvd24iLCJfbGV2ZWxVcCIsImxlbmd0aCIsIkhhcHB5IiwiYnViYmxlVHlwZSIsImNsZWFyIiwibGluZVN0eWxlIiwibGluZUJldHdlZW4iLCJzZXRQb3NpdGlvbiIsIkdhbWVPYmplY3RzIiwiR2FtZU9iamVjdCIsIm9uZU9mIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYmV0d2VlbiIsIm1pbiIsIm1heCIsIkxheWVycyIsIkRlY29yYXRpb24iLCJiYWNrZ3JvdW5kc19leHRlbmRzIiwiR3Jhc3NEZWNvcmF0aW9uIiwic2V0T3JpZ2luIiwiZ3JvdW5kSGVpZ2h0Iiwic2V0RnJhbWUiLCJDbG91ZERlY29yYXRpb24iLCJzaG93SGVpZ2h0IiwibWFpbkNhbWVyYSIsInNldEFsbG93R3Jhdml0eSIsIl9hIiwidiIsImRlcHRoT2Zmc2V0IiwiQmdNYW5hZ2VyIiwiYmdEZXB0aCIsImZnRGVwdGgiLCJfZ3JvdW5kSGVpZ2h0IiwiX2JnRGVwdGgiLCJfZmdEZXB0aCIsIl9ncmFzcyIsInBoeXNpY3MiLCJncm91cCIsImNsYXNzVHlwZSIsIm1heFNpemUiLCJydW5DaGlsZFVwZGF0ZSIsIl9jbG91ZHMiLCJncmFzcyIsImNsb3VkIiwicGh5c2ljYWxSZXNvbHV0aW9uIiwic3JjX01haW5UcmFjayIsIk1haW5UcmFjayIsImFwcGx5IiwiYXJndW1lbnRzIiwiYW5vdGhlck9ic3RhY2xlIiwic3JjX2V4dGVuZHMiLCJwcmVsb2FkIiwibG9hZCIsImF0bGFzIiwiZ3JvdW5kIiwic3RhdGljR3JvdXAiLCJncm91bmRMaW5lIiwic2V0U2NhbGUiLCJyZWZyZXNoQm9keSIsImJhY2tncm91bmQiLCJCR19FTEVNRU5UUyIsIkZHIiwib2JzdGFjbGVzIiwiZXhpc3RpbmciLCJQTEFZRVIiLCJjb250cm9sIiwiaW5wdXQiLCJrZXlib2FyZCIsImNyZWF0ZUN1cnNvcktleXMiLCJoYXB5bmVzcyIsIlVJIiwiY29sbGlkZXIiLCJvdmVybGFwIiwiY2Fjb3RhIiwic2V0VGltZW91dCIsIlNjZW5lIiwiY29uZmlnIiwidHlwZSIsIkFVVE8iLCJwaXhlbEFydCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJHYW1lIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxH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STdJLE9BQU84SSxLQUFLWCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllcic7XG5pbXBvcnQgeyBOT05FIH0gZnJvbSAncGhhc2VyJztcblxuY29uc3Qgc3RhdGVzOiBBcnJheTxzdHJpbmc+ID0gW1xuICAndGllbmVuIGJhY2hlcycsXG4gICdlc3TDoW4gYmllbicsXG4gICd2YW4gZ3VheScsXG4gICdlc3TDoW4gY2hhY2hpJyxcbiAgJ3NvbiBmZWxpY2VzJyxcbiAgJ3NvbiBNVVkgZmVsaWNlcydcbl07XG5cbmVudW0gQnViYmxlcyB7XG4gIEhhcHB5LCBTYWRcbn1cblxuZXhwb3J0IGNsYXNzIEhhcHB5T01ldGVyIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xuXG4gIHByaXZhdGUgX2JhcjogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuXG4gIHByaXZhdGUgX3Byb2dyZXNzOiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgX2N1cnJlbnRMZXZlbDogaW50ZWdlciA9IDE7XG5cbiAgcHJpdmF0ZSBfc2NvcmVUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcblxuICBwcml2YXRlIF9wbGF5ZXI6IFBsYXllcjtcblxuICBwcml2YXRlIF9idWJibGU6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcblxuICBwcml2YXRlIF9mYWNlOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xuXG4gIHByaXZhdGUgX2RlcHRoOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGxheWVyOiBQbGF5ZXIsIGRlcHRoOiBudW1iZXIpIHtcbiAgICBzdXBlcihzY2VuZSwgJ21ldHRlcicpO1xuICAgIHRoaXMuX3BsYXllciA9IHBsYXllcjtcbiAgICB0aGlzLl9kZXB0aCA9IGRlcHRoO1xuICAgIHRoaXMuX2J1YmJsZSA9IHRoaXMuc2NlbmUuYWRkLmltYWdlKDAsIDAsICd1aScsICdCYWxsb29uJyk7XG4gICAgdGhpcy5fYnViYmxlLmRlcHRoID0gdGhpcy5fZGVwdGg7XG4gICAgdGhpcy5fZmFjZSA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCAndWknKTtcbiAgICB0aGlzLl9mYWNlLmRlcHRoID0gdGhpcy5fYnViYmxlLmRlcHRoICsgMTtcbiAgICB0aGlzLl9oaWRlQnViYmxlKCk7XG4gICAgdGhpcy5fcGxheWVyLm9uKCdoaXQnLCB0aGlzLl9sb29zZSwgdGhpcyk7XG4gICAgdGhpcy5fc2NvcmVUZXh0ID0gdGhpcy5zY2VuZS5hZGQudGV4dCgwLCAwLCAnJyk7XG4gICAgdGhpcy5fc2NvcmVUZXh0LmRlcHRoID0gdGhpcy5fZGVwdGg7XG4gICAgdGhpcy5fc2V0dXBMZXZlbCh0aGlzLl9jdXJyZW50TGV2ZWwpO1xuICAgIHRoaXMuX2JhciA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XG4gIH1cblxuICBfc2V0dXBMZXZlbChsZXZlbDogbnVtYmVyKSB7XG4gICAgLy8gU2V0IGxhYmVsIGFuZCBjZW50ZXIgdGV4dFxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4ud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uaGVpZ2h0O1xuICAgIHRoaXMuX3Njb3JlVGV4dC5zZXRUZXh0KHN0YXRlc1tsZXZlbF0pO1xuICAgIGNvbnN0IHRleHRXaWR0aCA9IHRoaXMuX3Njb3JlVGV4dC53aWR0aDtcbiAgICB0aGlzLl9zY29yZVRleHQueCA9ICh3aWR0aCAtIHRleHRXaWR0aCkgLyAyO1xuICAgIHRoaXMuX3Njb3JlVGV4dC55ID0gaGVpZ2h0IC0gNDU7XG5cbiAgICAvLyBSZXNldCBwcm9ncmVzc1xuICAgIHRoaXMuX3Byb2dyZXNzID0gMDtcbiAgfVxuXG4gIF9sb29zZSgpIHtcbiAgICB0aGlzLl9zaG93QnViYmxlKEJ1YmJsZXMuU2FkLCAzMDAwKVxuICAgIHRoaXMuX3Byb2dyZXNzIC09IDAuNjtcbiAgICBpZiAodGhpcy5fcHJvZ3Jlc3MgPCAwKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzcyA9IDA7XG4gICAgICB0aGlzLl9sZXZlbERvd24oKTtcbiAgICB9XG4gIH1cblxuICBfbGV2ZWxEb3duKCkge1xuICAgIGlmICh0aGlzLl9jdXJyZW50TGV2ZWwgPiAwKSB7XG4gICAgICB0aGlzLl9jdXJyZW50TGV2ZWwtLTtcbiAgICAgIHRoaXMuX3NldHVwTGV2ZWwodGhpcy5fY3VycmVudExldmVsKTtcbiAgICB9XG4gIH1cblxuICBfbGV2ZWxVcCgpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudExldmVsIDwgc3RhdGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRMZXZlbCsrO1xuICAgICAgdGhpcy5fc2V0dXBMZXZlbCh0aGlzLl9jdXJyZW50TGV2ZWwpO1xuICAgICAgdGhpcy5fc2hvd0J1YmJsZShCdWJibGVzLkhhcHB5LCAzMDAwKTtcbiAgICB9XG4gIH1cblxuICBfc2hvd0J1YmJsZShidWJibGVUeXBlOiBCdWJibGVzLCB0aW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLl9idWJibGUuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB0aGlzLl9mYWNlLnNldFZpc2libGUodHJ1ZSk7XG4gICAgdGhpcy5fZmFjZS5hbmltcy5wbGF5KGJ1YmJsZVR5cGUgPT0gQnViYmxlcy5IYXBweSA/ICdsZXZlbC11cCcgOiAnbGV2ZWwtZG93bicpO1xuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aW1lLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oaWRlQnViYmxlKCk7XG4gICAgfSwgW10sIHRoaXMpO1xuICB9XG5cbiAgX2hpZGVCdWJibGUoKSB7XG4gICAgdGhpcy5fYnViYmxlLnNldFZpc2libGUoZmFsc2UpO1xuICAgIHRoaXMuX2ZhY2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gIH1cblxuICB1cGRhdGUodGltZTogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7XG4gICAgdGhpcy5fYmFyLmNsZWFyKCk7XG4gICAgdGhpcy5fcHJvZ3Jlc3MgKz0gKGRlbHRhIC8gMTAwMCkgKiAxMCAvIDEwMDtcbiAgICBpZiAodGhpcy5fcHJvZ3Jlc3MgPj0gMSkge1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRMZXZlbCA8IHN0YXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRoaXMuX2xldmVsVXAoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFrZSB0aGUgcHJvZ3Jlc3MgYmFyIHRvIGdyb3cuXG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi53aWR0aCAvIDM7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uaGVpZ2h0IC0gMTU7XG4gICAgdGhpcy5fYmFyLmxpbmVTdHlsZSg1LCAweGZmZmZmZiwgMSk7XG4gICAgdGhpcy5fYmFyLmxpbmVCZXR3ZWVuKFxuICAgICAgc3RhcnQsIGhlaWdodCxcbiAgICAgIHN0YXJ0ICsgc3RhcnQgKiB0aGlzLl9wcm9ncmVzcywgaGVpZ2h0XG4gICAgKTtcblxuICAgIC8vIFBvc2l0aW9uIGJ1YmJsZSBvdmVyIHRoZSBjaGFyYWN0ZXIuXG4gICAgdGhpcy5fYnViYmxlLnNldFBvc2l0aW9uKFxuICAgICAgdGhpcy5fcGxheWVyLnggKyAxNSxcbiAgICAgIHRoaXMuX3BsYXllci55IC0gdGhpcy5fcGxheWVyLmhlaWdodCArIDVcbiAgICApO1xuICAgIHRoaXMuX2ZhY2Uuc2V0UG9zaXRpb24oXG4gICAgICB0aGlzLl9wbGF5ZXIueCArIDE1LFxuICAgICAgdGhpcy5fcGxheWVyLnkgLSB0aGlzLl9wbGF5ZXIuaGVpZ2h0IC0gMlxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgc2V0dXBBbmltYXRpb25zKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBjb25zdCBhbmltcyA9IHNjZW5lLmFuaW1zO1xuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdsZXZlbC11cCcsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ3VpJyxcbiAgICAgICAgeyBwcmVmaXg6ICdIYXBweUZhY2UnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAyLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdsZXZlbC1kb3duJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAndWknLFxuICAgICAgICB7IHByZWZpeDogJ1NhZEZhY2UnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAyLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuICB9XG5cbn0iLCJpbXBvcnQgQXJjYWRlID0gUGhhc2VyLlBoeXNpY3MuQXJjYWRlO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgQXJjYWRlLlNwcml0ZSB7XG5cbiAgcHJpdmF0ZSBfYmxpbmtFZmZlY3Q6IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XG5cbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIHN1cGVyKHNjZW5lLCAwLCAwLCAnY2hhcmFjdGVycycpO1xuICAgIHRoaXMuX2JsaW5rRWZmZWN0ID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcbiAgICAgIGRlbGF5OiAxMDAsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLl9zd2l0Y2hWaXNpYmlsaXR5LFxuICAgICAgY2FsbGJhY2tTY29wZTogdGhpc1xuICAgIH0pO1xuICAgIHRoaXMuX2JsaW5rRWZmZWN0LnBhdXNlZCA9IHRydWU7XG4gIH1cblxuICBzaG93KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5hbmltcy5wbGF5KCdiZWEtcnVubmluZycpO1xuXG4gICAgY29uc3QgY29sbGlzaW9uQm94ID0geyB3aWR0aDogMzUsIGhlaWdodDogMjUgfTtcbiAgICBjb25zdCBib2R5ID0gdGhpcy5ib2R5IGFzIEFyY2FkZS5Cb2R5O1xuICAgIGJvZHkuc2V0U2l6ZShjb2xsaXNpb25Cb3gud2lkdGgsIGNvbGxpc2lvbkJveC5oZWlnaHQsIGZhbHNlKTtcbiAgICBib2R5LnNldE9mZnNldCg1LCB0aGlzLmhlaWdodCAtIGNvbGxpc2lvbkJveC5oZWlnaHQpO1xuICAgIGJvZHkucmVzZXQoeCwgeSk7XG4gICAgdGhpcy5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XG5cbiAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gICAgdGhpcy5zZXRBY3RpdmUodHJ1ZSk7XG4gIH1cblxuICBqdW1wKCkge1xuICAgIHRoaXMuc2V0VmVsb2NpdHlZKC02MDApO1xuICB9XG5cbiAgaGl0KCkge1xuICAgIGlmICh0aGlzLl9ibGlua0VmZmVjdC5wYXVzZWQpIHtcbiAgICAgIHRoaXMuX2JsaW5rRWZmZWN0LnBhdXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcbiAgICAgICAgdGhpcy5fYmxpbmtFZmZlY3QucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgfSwgW10sIHRoaXMpO1xuICAgICAgdGhpcy5lbWl0KCdoaXQnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zd2l0Y2hWaXNpYmlsaXR5KCkge1xuICAgIHRoaXMuc2V0VmlzaWJsZSghdGhpcy52aXNpYmxlKTtcbiAgfVxuXG4gIHN0YXRpYyBzZXR1cEFuaW1hdGlvbnMoc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIGNvbnN0IGFuaW1zID0gc2NlbmUuYW5pbXM7XG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2JlYS1ydW5uaW5nJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnY2hhcmFjdGVycycsXG4gICAgICAgIHsgcHJlZml4OiAnQmVhX1J1bicsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDQsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG5cbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnc2FsdmEtcnVubmluZycsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ2NoYXJhY3RlcnMnLFxuICAgICAgICB7IHByZWZpeDogJ1NhbHZhX1J1bicsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDQsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG5cbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnYmVhLWlkbGUnLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdCZWFfSWRsZScsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDIsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDIsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG5cbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnc2FsdmEtaWRsZScsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ2NoYXJhY3RlcnMnLFxuICAgICAgICB7IHByZWZpeDogJ1NhbHZhX0lkbGUnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAyLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiAyLFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuXG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2JlYS13aW4nLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdCZWFfV2luJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMywgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcblxuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdzYWx2YS13aW4nLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdTYWx2YV9XaW4nLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAzLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IEFyY2FkZSA9IFBoYXNlci5QaHlzaWNzLkFyY2FkZTtcblxuZXhwb3J0IGNsYXNzIENhY290YSBleHRlbmRzIEFyY2FkZS5TcHJpdGUge1xuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBzdXBlcihzY2VuZSwgMCwgMCwgJ29ic3RhY2xlcycpO1xuICB9XG5cbiAgc2hvdyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMuYW5pbXMucGxheSgnY2Fjb3RhJyk7XG5cbiAgICBjb25zdCBib2R5ID0gdGhpcy5ib2R5IGFzIEFyY2FkZS5Cb2R5O1xuICAgIGJvZHkucmVzZXQoeCwgeSk7XG4gICAgYm9keS5zZXRTaXplKHRoaXMud2lkdGgvMiwgdGhpcy5oZWlnaHQvMiwgZmFsc2UpO1xuICAgIGJvZHkuc2V0T2Zmc2V0KDAsIHRoaXMuaGVpZ2h0LzIpO1xuICAgIHRoaXMuc2V0Qm91bmNlKDAuNCk7XG4gICAgdGhpcy5zZXRWZWxvY2l0eVgoLTMwMCk7XG5cbiAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gICAgdGhpcy5zZXRBY3RpdmUodHJ1ZSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuYm9keS5yaWdodCA8IC0xMCkge1xuICAgICAgdGhpcy5zZXRBY3RpdmUoZmFsc2UpO1xuICAgICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc2V0dXBBbmltYXRpb25zKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBjb25zdCBhbmltcyA9IHNjZW5lLmFuaW1zO1xuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdjYWNvdGEnLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdvYnN0YWNsZXMnLFxuICAgICAgICB7IHByZWZpeDogJ1Bvb19JZGxlJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMywgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vcGxheWVyJztcblxuZXhwb3J0IGNsYXNzIENvbnRyb2wge1xuXG4gIHByaXZhdGUgX2N1cnNvcnM6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5DdXJzb3JLZXlzO1xuXG4gIHByaXZhdGUgX3BsYXllcjogUGxheWVyO1xuXG4gIHByaXZhdGUgX2p1bXBEZWFkbGluZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGN1cnNvcnM6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5DdXJzb3JLZXlzLCBwbGF5ZXI6IFBsYXllcikge1xuICAgIHRoaXMuX2N1cnNvcnMgPSBjdXJzb3JzO1xuICAgIHRoaXMuX3BsYXllciA9IHBsYXllcjtcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpIHtcbiAgICB0aGlzLl9yZXNvbHZlSnVtcCh0aW1lLCBkZWx0YSk7XG4gIH1cblxuICBwcml2YXRlIF9yZXNvbHZlSnVtcCh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpIHtcbiAgICBjb25zdCBvblRoZUdyb3VuZCA9IHRoaXMuX3BsYXllci5ib2R5LnRvdWNoaW5nLmRvd247XG4gICAgY29uc3Qgd2FudEp1bXAgPSB0aGlzLl9jdXJzb3JzLnNwYWNlLmlzRG93bjtcbiAgICBpZiAod2FudEp1bXAgJiYgb25UaGVHcm91bmQpIHtcbiAgICAgIHRoaXMuX2p1bXBEZWFkbGluZSA9IHRpbWUgKyAyMDA7XG4gICAgfVxuICAgIGlmICh3YW50SnVtcCAmJiB0aW1lIDwgdGhpcy5fanVtcERlYWRsaW5lKSB7XG4gICAgICB0aGlzLl9wbGF5ZXIuanVtcCgpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IExheWVycyB9IGZyb20gJy4vZGVwdGhzJztcblxuZnVuY3Rpb24gb25lT2Y8VD4obDogQXJyYXk8VD4pOiBUIHtcbiAgcmV0dXJuIGxbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbC5sZW5ndGgpXTtcbn1cblxuZnVuY3Rpb24gYmV0d2VlbihtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCBsZW5ndGggPSBtYXggLSBtaW47XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogbGVuZ3RoICsgbWluO1xufVxuXG5jbGFzcyBEZWNvcmF0aW9uIGV4dGVuZHMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLlNwcml0ZSB7XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5ib2R5LnJpZ2h0IDwgLTEwKSB7XG4gICAgICB0aGlzLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBHcmFzc0RlY29yYXRpb24gZXh0ZW5kcyBEZWNvcmF0aW9uIHtcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIHN1cGVyKHNjZW5lLCAwLCAwLCAnZGVjbycsICdHcmFzczAxLnBuZycpO1xuICAgIHRoaXMuc2V0T3JpZ2luKDAuNSwgMSk7XG4gIH1cblxuICBzaG93KGdyb3VuZEhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRGcmFtZShvbmVPZihbXG4gICAgICAnR3Jhc3MwMS5wbmcnLFxuICAgICAgJ0dyYXNzMDIucG5nJyxcbiAgICAgICdHcmFzczAzLnBuZydcbiAgICBdKSk7XG4gICAgY29uc3QgYm9keSA9IHRoaXMuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcbiAgICBjb25zdCBtYWluQ2FtZXJhID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4ud2lkdGg7XG4gICAgLy9ib2R5LnJlc2V0KG1haW5DYW1lcmEgKyB0aGlzLndpZHRoLCBncm91bmRIZWlnaHQgKyAyKTtcbiAgICBib2R5LnJlc2V0KDEwMDAsIDgwMCk7XG4gICAgdGhpcy5zZXRWZWxvY2l0eVgoLTMwMCk7XG4gICAgdGhpcy5zZXRBY3RpdmUodHJ1ZSk7XG4gICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuICB9XG59XG5cbmNsYXNzIENsb3VkRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgc3VwZXIoc2NlbmUsIDAsIDAsICdkZWNvJyk7XG4gICAgdGhpcy5zZXRPcmlnaW4oMC41LCAxKTtcbiAgfVxuXG4gIHNob3coZ3JvdW5kSGVpZ2h0OiBudW1iZXIsIGRlcHRoOiBudW1iZXIpIHtcbiAgICB0aGlzLnNldEZyYW1lKG9uZU9mKFtcbiAgICAgICdDbG91ZDAxLnBuZycsXG4gICAgICAnQ2xvdWQwMi5wbmcnLFxuICAgICAgJ0Nsb3VkMDMucG5nJyxcbiAgICAgICdDbG91ZDA0LnBuZydcbiAgICBdKSk7XG4gICAgY29uc3QgYm9keSA9IHRoaXMuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcbiAgICBjb25zdCBzaG93SGVpZ2h0ID0gTWF0aC5mbG9vcihiZXR3ZWVuKHRoaXMuaGVpZ2h0LCBncm91bmRIZWlnaHQpKTtcbiAgICBjb25zdCBtYWluQ2FtZXJhID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4ud2lkdGg7XG4gICAgYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xuICAgIGJvZHkucmVzZXQobWFpbkNhbWVyYSArIGJldHdlZW4odGhpcy53aWR0aCwgdGhpcy53aWR0aCAqIDEuNSksIHNob3dIZWlnaHQpO1xuICAgIGNvbnN0IFt2LCBkZXB0aE9mZnNldF0gPSBvbmVPZihbWzEwLCAwXSwgWzEwMCwgMV0sIFszMDAsIDJdXSk7XG4gICAgdGhpcy5zZXRWZWxvY2l0eVgoLXYpO1xuICAgIHRoaXMuZGVwdGggPSBkZXB0aCArIGRlcHRoT2Zmc2V0O1xuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmdNYW5hZ2VyIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xuXG4gIHByaXZhdGUgX2dyb3VuZEhlaWdodDogbnVtYmVyO1xuXG4gIHByaXZhdGUgX2JnRGVwdGg6IG51bWJlcjtcblxuICBwcml2YXRlIF9mZ0RlcHRoOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfZ3Jhc3M6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Hcm91cDtcblxuICBwcml2YXRlIF9jbG91ZHM6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Hcm91cDtcblxuICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lLCBncm91bmRIZWlnaHQ6IG51bWJlciwgYmdEZXB0aDogbnVtYmVyLCBmZ0RlcHRoOiBudW1iZXIpIHtcbiAgICBzdXBlcihzY2VuZSwgJ2JnLW1hbmFnZXInKTtcbiAgICB0aGlzLl9ncm91bmRIZWlnaHQgPSBncm91bmRIZWlnaHQ7XG4gICAgdGhpcy5fYmdEZXB0aCA9IGJnRGVwdGg7XG4gICAgdGhpcy5fZmdEZXB0aCA9IGZnRGVwdGg7XG4gICAgdGhpcy5fZ3Jhc3MgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmdyb3VwKHtcbiAgICAgIGNsYXNzVHlwZTogR3Jhc3NEZWNvcmF0aW9uLFxuICAgICAgbWF4U2l6ZTogMjAsXG4gICAgICBydW5DaGlsZFVwZGF0ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuX2Nsb3VkcyA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZ3JvdXAoe1xuICAgICAgY2xhc3NUeXBlOiBDbG91ZERlY29yYXRpb24sXG4gICAgICBtYXhTaXplOiAxMCxcbiAgICAgIHJ1bkNoaWxkVXBkYXRlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgZ3Jhc3MgPSB0aGlzLl9ncmFzcy5nZXQoKTtcbiAgICBpZiAoZ3Jhc3MpIHtcbiAgICAgIGdyYXNzLnNob3codGhpcy5fZ3JvdW5kSGVpZ2h0LCB0aGlzLl9mZ0RlcHRoKTtcbiAgICB9XG5cbiAgICBjb25zdCBjbG91ZCA9IHRoaXMuX2Nsb3Vkcy5nZXQoKTtcbiAgICBpZiAoY2xvdWQpIHtcbiAgICAgIGNsb3VkLnNob3codGhpcy5fZ3JvdW5kSGVpZ2h0IC8gNiAqIDUsIHRoaXMuX2JnRGVwdGgpO1xuICAgIH1cbiAgfVxufSIsIlxuZXhwb3J0IGVudW0gTGF5ZXJzIHtcbiAgQkcgPSAwLFxuICBCR19FTEVNRU5UUyA9IDEwLFxuICBQTEFZRVIgPSAxMDAsXG4gIE9CU1RBQ0xFUyA9IDExMCxcbiAgRkcgPSAyMDAsXG4gIFVJID0gMzAwXG59IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXInO1xuaW1wb3J0IHsgQ2Fjb3RhIH0gZnJvbSAnLi9vYnN0YWNsZXMnO1xuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gJy4vY29udHJvbCc7XG5pbXBvcnQgeyBIYXBweU9NZXRlciB9IGZyb20gJy4vaGFwcHktby1tZXRlcic7XG5pbXBvcnQgeyBCZ01hbmFnZXIgfSBmcm9tICcuL2JhY2tncm91bmRzJztcblxuY29uc3QgcGh5c2ljYWxSZXNvbHV0aW9uID0ge1xuICB3aWR0aDogODAwLFxuICBoZWlnaHQ6IDQ1MFxufTtcblxuaW1wb3J0IEFyY2FkZSA9IFBoYXNlci5QaHlzaWNzLkFyY2FkZTtcbmltcG9ydCB7IExheWVycyB9IGZyb20gJy4vZGVwdGhzJztcbmNsYXNzIE1haW5UcmFjayBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG5cbiAgY29udHJvbDogQ29udHJvbDtcblxuICBoYXB5bmVzczogSGFwcHlPTWV0ZXI7XG5cbiAgcGxheWVyOiBQbGF5ZXI7XG5cbiAgZ3JvdW5kTGluZTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLlNwcml0ZTtcblxuICBqdW1wRGVhZGxpbmU6IG51bWJlcjtcblxuICBhbm90aGVyT2JzdGFjbGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIG9ic3RhY2xlczogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkdyb3VwO1xuXG4gIGJhY2tncm91bmQ6IEJnTWFuYWdlcjtcblxuICBwcmVsb2FkKCkge1xuICAgIHRoaXMubG9hZC5pbWFnZSgnYmcnLCAnYXNzZXRzL2Vudmlyb25tZW50cy9iYWNrZ3JvdW5kLXRlc3QucG5nJyk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdncm91bmQnLCAnYXNzZXRzL2Vudmlyb25tZW50cy9ncm91bmQtbGluZS5wbmcnKTtcbiAgICB0aGlzLmxvYWQuYXRsYXMoXG4gICAgICAnY2hhcmFjdGVycycsXG4gICAgICAnYXNzZXRzL2NoYXJhY3RlcnMvY2hhcmFjdGVycy5wbmcnLFxuICAgICAgJ2Fzc2V0cy9jaGFyYWN0ZXJzL2NoYXJhY3RlcnMuanNvbidcbiAgICApO1xuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICdvYnN0YWNsZXMnLFxuICAgICAgJ2Fzc2V0cy9vYnN0YWNsZXMvb2JzdGFjbGVzLnBuZycsXG4gICAgICAnYXNzZXRzL29ic3RhY2xlcy9vYnN0YWNsZXMuanNvbidcbiAgICApO1xuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICd1aScsXG4gICAgICAnYXNzZXRzL3VpL3VpLnBuZycsXG4gICAgICAnYXNzZXRzL3VpL3VpLmpzb24nXG4gICAgKVxuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICdkZWNvJyxcbiAgICAgICdhc3NldHMvZW52aXJvbm1lbnRzL2RlY28ucG5nJyxcbiAgICAgICdhc3NldHMvZW52aXJvbm1lbnRzL2RlY28uanNvbidcbiAgICApXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgUGxheWVyLnNldHVwQW5pbWF0aW9ucyh0aGlzKTtcbiAgICBDYWNvdGEuc2V0dXBBbmltYXRpb25zKHRoaXMpO1xuICAgIEhhcHB5T01ldGVyLnNldHVwQW5pbWF0aW9ucyh0aGlzKTtcblxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2JnJykuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgY29uc3QgZ3JvdW5kID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xuICAgIHRoaXMuZ3JvdW5kTGluZSA9IGdyb3VuZC5jcmVhdGUoXG4gICAgICAwLCBwaHlzaWNhbFJlc29sdXRpb24uaGVpZ2h0LFxuICAgICAgJ2dyb3VuZCdcbiAgICApO1xuICAgIHRoaXMuZ3JvdW5kTGluZS5zZXRPcmlnaW4oMCwgMSk7XG4gICAgdGhpcy5ncm91bmRMaW5lLnNldFNjYWxlKDIsIDEpO1xuICAgIHRoaXMuZ3JvdW5kTGluZS5yZWZyZXNoQm9keSgpO1xuICAgIGNvbnN0IGdyb3VuZEhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAtIHRoaXMuZ3JvdW5kTGluZS5oZWlnaHQ7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3IEJnTWFuYWdlcih0aGlzLnNjZW5lLnNjZW5lLCBncm91bmRIZWlnaHQsIExheWVycy5CR19FTEVNRU5UUywgTGF5ZXJzLkZHKTtcblxuICAgIHRoaXMub2JzdGFjbGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCh7XG4gICAgICBjbGFzc1R5cGU6IENhY290YSxcbiAgICAgIG1heFNpemU6IDIwLFxuICAgICAgcnVuQ2hpbGRVcGRhdGU6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMucGxheWVyID0gdGhpcy5hZGQuZXhpc3RpbmcobmV3IFBsYXllcih0aGlzLnNjZW5lLnNjZW5lKSkgYXMgUGxheWVyO1xuICAgIHRoaXMucGxheWVyLmRlcHRoID0gTGF5ZXJzLlBMQVlFUjtcbiAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxheWVyKTtcbiAgICB0aGlzLnBsYXllci5zaG93KFxuICAgICAgcGh5c2ljYWxSZXNvbHV0aW9uLndpZHRoIC8gNCxcbiAgICAgIHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQgLyAyXG4gICAgKTtcblxuICAgIHRoaXMuY29udHJvbCA9IG5ldyBDb250cm9sKFxuICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCksXG4gICAgICB0aGlzLnBsYXllclxuICAgICk7XG5cbiAgICB0aGlzLmhhcHluZXNzID0gdGhpcy5hZGQuZXhpc3RpbmcoXG4gICAgICBuZXcgSGFwcHlPTWV0ZXIodGhpcy5zY2VuZS5zY2VuZSwgdGhpcy5wbGF5ZXIsIExheWVycy5VSSlcbiAgICApIGFzIEhhcHB5T01ldGVyO1xuXG4gICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBsYXllciwgZ3JvdW5kKTtcbiAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMub2JzdGFjbGVzLCBncm91bmQpO1xuICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllciwgdGhpcy5vYnN0YWNsZXMsIChwbGF5ZXIsIGNhY290YSkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXIuaGl0KClcbiAgICB9LCBudWxsLCB0aGlzKTtcblxuICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2hpZGluZy1vdHRlcicsXG4gICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnb2JzdGFjbGVzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdPdHRlcl9IaWRlJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogNCwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogMyxcbiAgICAgIHJlcGVhdDogMVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xuICAgIHRoaXMuY29udHJvbC51cGRhdGUodGltZSwgZGVsdGEpO1xuICAgIHRoaXMuaGFweW5lc3MudXBkYXRlKHRpbWUsIGRlbHRhKTtcbiAgICB0aGlzLmJhY2tncm91bmQudXBkYXRlKCk7XG4gICAgaWYgKHRoaXMuYW5vdGhlck9ic3RhY2xlKSB7XG4gICAgICB0aGlzLmFub3RoZXJPYnN0YWNsZSA9IGZhbHNlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmFub3RoZXJPYnN0YWNsZSA9IHRydWUsIDEwMDApO1xuICAgICAgY29uc3QgY2Fjb3RhID0gdGhpcy5vYnN0YWNsZXMuZ2V0KCk7XG4gICAgICBjYWNvdGEuc2hvdyhwaHlzaWNhbFJlc29sdXRpb24ud2lkdGgsIHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQvMik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgdHlwZTogUGhhc2VyLkFVVE8sXG4gIHdpZHRoOiBwaHlzaWNhbFJlc29sdXRpb24ud2lkdGgsXG4gIGhlaWdodDogcGh5c2ljYWxSZXNvbHV0aW9uLmhlaWdodCxcbiAgc2NlbmU6IE1haW5UcmFjayxcbiAgcGl4ZWxBcnQ6IHRydWUsXG4gIHBoeXNpY3M6IHtcbiAgICBkZWZhdWx0OiAnYXJjYWRlJyxcbiAgICBhcmNhZGU6IHtcbiAgICAgIGdyYXZpdHk6IHsgeTogNDAwMCB9LFxuICAgICAgZGVidWc6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjYW52YXM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpXG59O1xuXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sInNvdXJjZVJvb3QiOiIifQ==