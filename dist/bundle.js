!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var i,r,n=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),a=function(e){function t(t){var s=e.call(this,t,0,0,"characters")||this;return s._blinkEffect=s.scene.time.addEvent({delay:100,loop:!0,repeat:1/0,callback:s._switchVisibility,callbackScope:s}),s._blinkEffect.paused=!0,s}return n(t,e),t.prototype.show=function(e,t){this.anims.play("bea-running");var s=35,i=25,r=this.body;r.setSize(s,i,!1),r.setOffset(5,this.height-i),r.reset(e,t),this.setCollideWorldBounds(!0),this.setVisible(!0),this.setActive(!0)},t.prototype.jump=function(){this.setVelocityY(-600)},t.prototype.hit=function(){var e=this;this._blinkEffect.paused&&(this._blinkEffect.paused=!1,this.scene.time.delayedCall(3e3,function(){e._blinkEffect.paused=!0,e.setVisible(!0)},[],this),this.emit("hit"))},t.prototype._switchVisibility=function(){this.setVisible(!this.visible)},t.setupAnimations=function(e){var t=e.anims;t.create({key:"bea-running",frames:t.generateFrameNames("characters",{prefix:"Bea_Run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"salva-running",frames:t.generateFrameNames("characters",{prefix:"Salva_Run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"bea-idle",frames:t.generateFrameNames("characters",{prefix:"Bea_Idle",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:2,repeat:1/0}),t.create({key:"salva-idle",frames:t.generateFrameNames("characters",{prefix:"Salva_Idle",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:2,repeat:1/0}),t.create({key:"bea-win",frames:t.generateFrameNames("characters",{prefix:"Bea_Win",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"salva-win",frames:t.generateFrameNames("characters",{prefix:"Salva_Win",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.Physics.Arcade.Sprite),o=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),c=function(e){function t(t){return e.call(this,t,0,0,"obstacles")||this}return o(t,e),t.prototype.show=function(e,t){this.anims.play("cacota");var s=this.body;s.reset(e,t),s.setSize(this.width/2,this.height/2,!1),s.setOffset(0,this.height/2),this.setBounce(.4),this.setVelocityX(-300),this.setVisible(!0),this.setActive(!0)},t.prototype.update=function(){this.body.right<-10&&(this.setActive(!1),this.setVisible(!1))},t.setupAnimations=function(e){var t=e.anims;t.create({key:"cacota",frames:t.generateFrameNames("obstacles",{prefix:"Poo_Idle",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.Physics.Arcade.Sprite),h=function(){function e(e,t,s){this._pointer=t,this._cursors=e,this._player=s}return e.prototype.update=function(e,t){this._resolveJump(e,t)},e.prototype._resolveJump=function(e,t){var s=this._player.body.touching.down,i=this._cursors.space.isDown||this._pointer.isDown;i&&s&&(this._jumpDeadline=e+200),i&&e<this._jumpDeadline&&this._player.jump()},e}(),p=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),u=["tienen baches","están bien","van guay","están chachi","son felices","son MUY felices"];!function(e){e[e.Happy=0]="Happy",e[e.Sad=1]="Sad"}(r||(r={}));var l=function(e){function t(t,s,i){var r=e.call(this,t,"metter")||this;return r._progress=0,r._currentLevel=1,r._player=s,r._depth=i,r._bubble=r.scene.add.image(0,0,"ui","Balloon"),r._bubble.depth=r._depth,r._face=r.scene.add.sprite(0,0,"ui"),r._face.depth=r._bubble.depth+1,r._hideBubble(),r._player.on("hit",r._loose,r),r._scoreText=r.scene.add.text(0,0,""),r._scoreText.depth=r._depth,r._setupLevel(r._currentLevel),r._bar=r.scene.add.graphics(),r}return p(t,e),t.prototype._setupLevel=function(e){var t=this.scene.cameras.main.width,s=this.scene.cameras.main.height;this._scoreText.setText(u[e]);var i=this._scoreText.width;this._scoreText.x=(t-i)/2,this._scoreText.y=s-45,this._progress=0},t.prototype._loose=function(){this._showBubble(r.Sad,3e3),this._progress-=.6,this._progress<0&&(this._progress=0,this._levelDown())},t.prototype._levelDown=function(){this._currentLevel>0&&(this._currentLevel--,this._setupLevel(this._currentLevel))},t.prototype._levelUp=function(){this._currentLevel<u.length-1&&(this._currentLevel++,this._setupLevel(this._currentLevel),this._showBubble(r.Happy,3e3))},t.prototype._showBubble=function(e,t){var s=this;this._bubble.setVisible(!0),this._face.setVisible(!0),this._face.anims.play(e==r.Happy?"level-up":"level-down"),this.scene.time.delayedCall(t,function(){s._hideBubble()},[],this)},t.prototype._hideBubble=function(){this._bubble.setVisible(!1),this._face.setVisible(!1)},t.prototype.update=function(e,t){this._bar.clear(),this._progress+=t/1e3*10/100,this._progress>=1&&(this._currentLevel<u.length-1?this._levelUp():this._progress=1);var s=this.scene.cameras.main.width/3,i=this.scene.cameras.main.height-15;this._bar.lineStyle(5,16777215,1),this._bar.lineBetween(s,i,s+s*this._progress,i),this._bubble.setPosition(this._player.x+15,this._player.y-this._player.height+5),this._face.setPosition(this._player.x+15,this._player.y-this._player.height-2)},t.setupAnimations=function(e){var t=e.anims;t.create({key:"level-up",frames:t.generateFrameNames("ui",{prefix:"HappyFace",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"level-down",frames:t.generateFrameNames("ui",{prefix:"SadFace",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.GameObjects.GameObject),f=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();function d(e){return e[Math.floor(Math.random()*e.length)]}function _(e,t){var s=t-e;return Math.random()*s+e}var y,b=function(e){function t(t){var s=e.call(this,t,0,0,"deco")||this;return s._disable(),s}return f(t,e),t.prototype._disable=function(){this.setActive(!1),this.setVisible(!1)},t.prototype.update=function(){this.body.right<-10&&this._disable()},t}(Phaser.Physics.Arcade.Sprite),g=function(e){function t(t){var s=e.call(this,t)||this;return s.setOrigin(.5,1),s}return f(t,e),t.prototype.show=function(e,t){this.setFrame(d(["Grass01.png","Grass02.png","Grass03.png"])),this.depth=t;var s=this.body;s.setAllowGravity(!1);var i=this.scene.cameras.main;s.reset(_(i.width+this.width,2*i.width),e),this.setVelocityX(-300),this.setActive(!0),this.setVisible(!0)},t}(b),m=function(e){function t(t){var s=e.call(this,t)||this;return s.setOrigin(.5,1),s}return f(t,e),t.prototype.show=function(e,t){this.setFrame(d(["Cloud01.png","Cloud02.png","Cloud03.png","Cloud04.png"]));var s=this.body,i=Math.floor(_(this.height,e)),r=this.scene.cameras.main;s.setAllowGravity(!1),s.reset(_(r.width+this.width,2*r.width),i);var n=d([[10,0],[100,1],[300,2]]),a=n[0],o=n[1];this.depth=t+o,this.setVelocityX(-_(.8*a,1.2*a)),this.setActive(!0),this.setVisible(!0)},t}(b),v=function(e){function t(t,s,i,r){var n=e.call(this,t,"bg-manager")||this;return n._ground=s,n._groundHeight=n.scene.cameras.main.height-n._ground.height,n._bgDepth=i,n._fgDepth=r,n._grass=n.scene.physics.add.group({classType:g,maxSize:20,runChildUpdate:!0}),n._clouds=n.scene.physics.add.group({classType:m,maxSize:10,runChildUpdate:!0}),n.scene.physics.add.collider(n._ground,n._grass),n}return f(t,e),t.prototype.update=function(){if(Math.random()<.4){var e=this._grass.get();e&&e.show(this._groundHeight,this._fgDepth)}var t=this._clouds.get();t&&t.show(this._groundHeight/6*5,this._bgDepth)},t}(Phaser.GameObjects.GameObject);!function(e){e[e.BG=0]="BG",e[e.BG_ELEMENTS=10]="BG_ELEMENTS",e[e.PLAYER=100]="PLAYER",e[e.OBSTACLES=110]="OBSTACLES",e[e.FG=200]="FG",e[e.UI=300]="UI"}(y||(y={}));var w=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),O=800,x=450,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anotherObstacle=!0,t}return w(t,e),t.prototype.preload=function(){this.load.image("bg","assets/environments/background-test.png"),this.load.image("ground","assets/environments/ground-line.png"),this.load.atlas("characters","assets/characters/characters.png","assets/characters/characters.json"),this.load.atlas("obstacles","assets/obstacles/obstacles.png","assets/obstacles/obstacles.json"),this.load.atlas("ui","assets/ui/ui.png","assets/ui/ui.json"),this.load.atlas("deco","assets/environments/deco.png","assets/environments/deco.json")},t.prototype.create=function(){var e=this;a.setupAnimations(this),c.setupAnimations(this),l.setupAnimations(this);this.add.image(0,0,"bg").setOrigin(0,0);var t=this.physics.add.staticGroup();this.groundLine=t.create(0,x,"ground"),this.groundLine.setOrigin(0,1),this.groundLine.setScale(2,1),this.groundLine.refreshBody(),this.background=new v(this.scene.scene,this.groundLine,y.BG_ELEMENTS,y.FG),this.obstacles=this.physics.add.group({classType:c,maxSize:20,runChildUpdate:!0}),this.player=this.add.existing(new a(this.scene.scene)),this.player.depth=y.PLAYER,this.physics.add.existing(this.player),this.player.show(O/4,x/2),this.control=new h(this.input.keyboard.createCursorKeys(),this.input.addPointer()[0],this.player),this.hapyness=this.add.existing(new l(this.scene.scene,this.player,y.UI)),this.physics.add.collider(this.player,t),this.physics.add.collider(this.obstacles,t),this.physics.add.overlap(this.player,this.obstacles,function(t,s){e.player.hit()},null,this),this.anims.create({key:"hiding-otter",frames:this.anims.generateFrameNames("obstacles",{prefix:"Otter_Hide",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:3,repeat:1})},t.prototype.update=function(e,t){var s=this;if(this.control.update(e,t),this.hapyness.update(e,t),this.background.update(),this.anotherObstacle){this.anotherObstacle=!1,setTimeout(function(){return s.anotherObstacle=!0},1e3);var i=this.obstacles.get();i.depth=y.OBSTACLES,i.show(O,x/2)}},t}(Phaser.Scene),S={type:Phaser.AUTO,width:O,height:x,scene:P,pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:4e3},debug:!1}},canvas:document.querySelector("canvas")};new Phaser.Game(S)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhcHB5LW8tbWV0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JzdGFjbGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVwdGhzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJ1YmJsZXMiLCJQbGF5ZXIiLCJfc3VwZXIiLCJzY2VuZSIsIl90aGlzIiwidGhpcyIsIl9ibGlua0VmZmVjdCIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwibG9vcCIsInJlcGVhdCIsIkluZmluaXR5IiwiY2FsbGJhY2siLCJfc3dpdGNoVmlzaWJpbGl0eSIsImNhbGxiYWNrU2NvcGUiLCJwYXVzZWQiLCJfX2V4dGVuZHMiLCJzaG93IiwieCIsInkiLCJhbmltcyIsInBsYXkiLCJjb2xsaXNpb25Cb3giLCJib2R5Iiwic2V0U2l6ZSIsInNldE9mZnNldCIsImhlaWdodCIsInJlc2V0Iiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0VmlzaWJsZSIsInNldEFjdGl2ZSIsImp1bXAiLCJzZXRWZWxvY2l0eVkiLCJoaXQiLCJkZWxheWVkQ2FsbCIsImVtaXQiLCJ2aXNpYmxlIiwic2V0dXBBbmltYXRpb25zIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU5hbWVzIiwicHJlZml4IiwiemVyb1BhZCIsInN0YXJ0IiwiZW5kIiwic3VmZml4IiwiZnJhbWVSYXRlIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFyY2FkZSIsIlNwcml0ZSIsIkNhY290YSIsIm9ic3RhY2xlc19leHRlbmRzIiwid2lkdGgiLCJzZXRCb3VuY2UiLCJzZXRWZWxvY2l0eVgiLCJ1cGRhdGUiLCJyaWdodCIsIkNvbnRyb2wiLCJjdXJzb3JzIiwicG9pbnRlciIsInBsYXllciIsIl9wb2ludGVyIiwiX2N1cnNvcnMiLCJfcGxheWVyIiwiZGVsdGEiLCJfcmVzb2x2ZUp1bXAiLCJvblRoZUdyb3VuZCIsInRvdWNoaW5nIiwiZG93biIsIndhbnRKdW1wIiwic3BhY2UiLCJpc0Rvd24iLCJfanVtcERlYWRsaW5lIiwic3RhdGVzIiwiSGFwcHlPTWV0ZXIiLCJkZXB0aCIsIl9wcm9ncmVzcyIsIl9jdXJyZW50TGV2ZWwiLCJfZGVwdGgiLCJfYnViYmxlIiwiYWRkIiwiaW1hZ2UiLCJfZmFjZSIsInNwcml0ZSIsIl9oaWRlQnViYmxlIiwib24iLCJfbG9vc2UiLCJfc2NvcmVUZXh0IiwidGV4dCIsIl9zZXR1cExldmVsIiwiX2JhciIsImdyYXBoaWNzIiwiaGFwcHlfb19tZXRlcl9leHRlbmRzIiwibGV2ZWwiLCJjYW1lcmFzIiwibWFpbiIsInNldFRleHQiLCJ0ZXh0V2lkdGgiLCJfc2hvd0J1YmJsZSIsIlNhZCIsIl9sZXZlbERvd24iLCJfbGV2ZWxVcCIsImxlbmd0aCIsIkhhcHB5IiwiYnViYmxlVHlwZSIsImNsZWFyIiwibGluZVN0eWxlIiwibGluZUJldHdlZW4iLCJzZXRQb3NpdGlvbiIsIkdhbWVPYmplY3RzIiwiR2FtZU9iamVjdCIsIm9uZU9mIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYmV0d2VlbiIsIm1pbiIsIm1heCIsIkxheWVycyIsIkRlY29yYXRpb24iLCJfZGlzYWJsZSIsImJhY2tncm91bmRzX2V4dGVuZHMiLCJHcmFzc0RlY29yYXRpb24iLCJzZXRPcmlnaW4iLCJncm91bmRIZWlnaHQiLCJzZXRGcmFtZSIsInNldEFsbG93R3Jhdml0eSIsIm1haW5DYW1lcmEiLCJDbG91ZERlY29yYXRpb24iLCJzaG93SGVpZ2h0IiwiX2EiLCJ2IiwiZGVwdGhPZmZzZXQiLCJCZ01hbmFnZXIiLCJncm91bmQiLCJiZ0RlcHRoIiwiZmdEZXB0aCIsIl9ncm91bmQiLCJfZ3JvdW5kSGVpZ2h0IiwiX2JnRGVwdGgiLCJfZmdEZXB0aCIsIl9ncmFzcyIsInBoeXNpY3MiLCJncm91cCIsImNsYXNzVHlwZSIsIm1heFNpemUiLCJydW5DaGlsZFVwZGF0ZSIsIl9jbG91ZHMiLCJjb2xsaWRlciIsImdyYXNzIiwiY2xvdWQiLCJwaHlzaWNhbFJlc29sdXRpb24iLCJzcmNfTWFpblRyYWNrIiwiTWFpblRyYWNrIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJhbm90aGVyT2JzdGFjbGUiLCJzcmNfZXh0ZW5kcyIsInByZWxvYWQiLCJsb2FkIiwiYXRsYXMiLCJzdGF0aWNHcm91cCIsImdyb3VuZExpbmUiLCJzZXRTY2FsZSIsInJlZnJlc2hCb2R5IiwiYmFja2dyb3VuZCIsIkJHX0VMRU1FTlRTIiwiRkciLCJvYnN0YWNsZXMiLCJleGlzdGluZyIsIlBMQVlFUiIsImNvbnRyb2wiLCJpbnB1dCIsImtleWJvYXJkIiwiY3JlYXRlQ3Vyc29yS2V5cyIsImFkZFBvaW50ZXIiLCJoYXB5bmVzcyIsIlVJIiwib3ZlcmxhcCIsImNhY290YSIsInNldFRpbWVvdXQiLCJPQlNUQUNMRVMiLCJTY2VuZSIsImNvbmZpZyIsInR5cGUiLCJBVVRPIiwicGl4ZWxBcnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNl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QUFjMEQsR0FBckIsSUFBQTdELEVBQUFDLEtBSUUsR0FIQUEsS0FBS3VLLFFBQVFwSCxPQUFPakQsRUFBTTBELEdBQzFCNUQsS0FBSzRLLFNBQVN6SCxPQUFPakQsRUFBTTBELEdBQzNCNUQsS0FBS2lLLFdBQVc5RyxTQUNabkQsS0FBS3dKLGdCQUFpQixDQUN4QnhKLEtBQUt3SixpQkFBa0IsRUFDdkJ3QixXQUFXLFdBQU0sT0FBQWpMLEVBQUt5SixpQkFBa0IsR0FBTSxLQUM5QyxJQUFNdUIsRUFBUy9LLEtBQUtvSyxVQUFVNUwsTUFDOUJ1TSxFQUFPeEcsTUFBUTJDLEVBQU8rRCxVQUN0QkYsRUFBT2xLLEtBQUtzSSxFQUEwQkEsRUFBMEIsS0FHdEVFLEVBakhBLENBQXdCM0csT0FBT3dJLE9BbUh6QkMsRUFBUyxDQUNiQyxLQUFNMUksT0FBTzJJLEtBQ2JySSxNQUFPbUcsRUFDUDdILE9BQVE2SCxFQUNSckosTUFBT3NKLEVBQ1BrQyxVQUFVLEVBQ1Y1QyxRQUFTLENBQ1A2QyxRQUFTLFNBQ1RDLE9BQVEsQ0FDTkMsUUFBUyxDQUFFMUssRUFBRyxLQUNkMkssT0FBTyxJQUdYQyxPQUFRQyxTQUFTQyxjQUFjLFdBR3BCLElBQUluSixPQUFPb0osS0FBS1giLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXInO1xuaW1wb3J0IHsgTk9ORSB9IGZyb20gJ3BoYXNlcic7XG5cbmNvbnN0IHN0YXRlczogQXJyYXk8c3RyaW5nPiA9IFtcbiAgJ3RpZW5lbiBiYWNoZXMnLFxuICAnZXN0w6FuIGJpZW4nLFxuICAndmFuIGd1YXknLFxuICAnZXN0w6FuIGNoYWNoaScsXG4gICdzb24gZmVsaWNlcycsXG4gICdzb24gTVVZIGZlbGljZXMnXG5dO1xuXG5lbnVtIEJ1YmJsZXMge1xuICBIYXBweSwgU2FkXG59XG5cbmV4cG9ydCBjbGFzcyBIYXBweU9NZXRlciBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcblxuICBwcml2YXRlIF9iYXI6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcblxuICBwcml2YXRlIF9wcm9ncmVzczogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIF9jdXJyZW50TGV2ZWw6IGludGVnZXIgPSAxO1xuXG4gIHByaXZhdGUgX3Njb3JlVGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG5cbiAgcHJpdmF0ZSBfcGxheWVyOiBQbGF5ZXI7XG5cbiAgcHJpdmF0ZSBfYnViYmxlOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG5cbiAgcHJpdmF0ZSBfZmFjZTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcblxuICBwcml2YXRlIF9kZXB0aDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIHBsYXllcjogUGxheWVyLCBkZXB0aDogbnVtYmVyKSB7XG4gICAgc3VwZXIoc2NlbmUsICdtZXR0ZXInKTtcbiAgICB0aGlzLl9wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy5fZGVwdGggPSBkZXB0aDtcbiAgICB0aGlzLl9idWJibGUgPSB0aGlzLnNjZW5lLmFkZC5pbWFnZSgwLCAwLCAndWknLCAnQmFsbG9vbicpO1xuICAgIHRoaXMuX2J1YmJsZS5kZXB0aCA9IHRoaXMuX2RlcHRoO1xuICAgIHRoaXMuX2ZhY2UgPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3VpJyk7XG4gICAgdGhpcy5fZmFjZS5kZXB0aCA9IHRoaXMuX2J1YmJsZS5kZXB0aCArIDE7XG4gICAgdGhpcy5faGlkZUJ1YmJsZSgpO1xuICAgIHRoaXMuX3BsYXllci5vbignaGl0JywgdGhpcy5fbG9vc2UsIHRoaXMpO1xuICAgIHRoaXMuX3Njb3JlVGV4dCA9IHRoaXMuc2NlbmUuYWRkLnRleHQoMCwgMCwgJycpO1xuICAgIHRoaXMuX3Njb3JlVGV4dC5kZXB0aCA9IHRoaXMuX2RlcHRoO1xuICAgIHRoaXMuX3NldHVwTGV2ZWwodGhpcy5fY3VycmVudExldmVsKTtcbiAgICB0aGlzLl9iYXIgPSB0aGlzLnNjZW5lLmFkZC5ncmFwaGljcygpO1xuICB9XG5cbiAgX3NldHVwTGV2ZWwobGV2ZWw6IG51bWJlcikge1xuICAgIC8vIFNldCBsYWJlbCBhbmQgY2VudGVyIHRleHRcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmhlaWdodDtcbiAgICB0aGlzLl9zY29yZVRleHQuc2V0VGV4dChzdGF0ZXNbbGV2ZWxdKTtcbiAgICBjb25zdCB0ZXh0V2lkdGggPSB0aGlzLl9zY29yZVRleHQud2lkdGg7XG4gICAgdGhpcy5fc2NvcmVUZXh0LnggPSAod2lkdGggLSB0ZXh0V2lkdGgpIC8gMjtcbiAgICB0aGlzLl9zY29yZVRleHQueSA9IGhlaWdodCAtIDQ1O1xuXG4gICAgLy8gUmVzZXQgcHJvZ3Jlc3NcbiAgICB0aGlzLl9wcm9ncmVzcyA9IDA7XG4gIH1cblxuICBfbG9vc2UoKSB7XG4gICAgdGhpcy5fc2hvd0J1YmJsZShCdWJibGVzLlNhZCwgMzAwMClcbiAgICB0aGlzLl9wcm9ncmVzcyAtPSAwLjY7XG4gICAgaWYgKHRoaXMuX3Byb2dyZXNzIDwgMCkge1xuICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSAwO1xuICAgICAgdGhpcy5fbGV2ZWxEb3duKCk7XG4gICAgfVxuICB9XG5cbiAgX2xldmVsRG93bigpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudExldmVsID4gMCkge1xuICAgICAgdGhpcy5fY3VycmVudExldmVsLS07XG4gICAgICB0aGlzLl9zZXR1cExldmVsKHRoaXMuX2N1cnJlbnRMZXZlbCk7XG4gICAgfVxuICB9XG5cbiAgX2xldmVsVXAoKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRMZXZlbCA8IHN0YXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLl9jdXJyZW50TGV2ZWwrKztcbiAgICAgIHRoaXMuX3NldHVwTGV2ZWwodGhpcy5fY3VycmVudExldmVsKTtcbiAgICAgIHRoaXMuX3Nob3dCdWJibGUoQnViYmxlcy5IYXBweSwgMzAwMCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dCdWJibGUoYnViYmxlVHlwZTogQnViYmxlcywgdGltZTogbnVtYmVyKSB7XG4gICAgdGhpcy5fYnViYmxlLnNldFZpc2libGUodHJ1ZSk7XG4gICAgdGhpcy5fZmFjZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgIHRoaXMuX2ZhY2UuYW5pbXMucGxheShidWJibGVUeXBlID09IEJ1YmJsZXMuSGFwcHkgPyAnbGV2ZWwtdXAnIDogJ2xldmVsLWRvd24nKTtcbiAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwodGltZSwgKCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUJ1YmJsZSgpO1xuICAgIH0sIFtdLCB0aGlzKTtcbiAgfVxuXG4gIF9oaWRlQnViYmxlKCkge1xuICAgIHRoaXMuX2J1YmJsZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB0aGlzLl9mYWNlLnNldFZpc2libGUoZmFsc2UpO1xuICB9XG5cbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xuICAgIHRoaXMuX2Jhci5jbGVhcigpO1xuICAgIHRoaXMuX3Byb2dyZXNzICs9IChkZWx0YSAvIDEwMDApICogMTAgLyAxMDA7XG4gICAgaWYgKHRoaXMuX3Byb2dyZXNzID49IDEpIHtcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50TGV2ZWwgPCBzdGF0ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLl9sZXZlbFVwKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1ha2UgdGhlIHByb2dyZXNzIGJhciB0byBncm93LlxuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4ud2lkdGggLyAzO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmhlaWdodCAtIDE1O1xuICAgIHRoaXMuX2Jhci5saW5lU3R5bGUoNSwgMHhmZmZmZmYsIDEpO1xuICAgIHRoaXMuX2Jhci5saW5lQmV0d2VlbihcbiAgICAgIHN0YXJ0LCBoZWlnaHQsXG4gICAgICBzdGFydCArIHN0YXJ0ICogdGhpcy5fcHJvZ3Jlc3MsIGhlaWdodFxuICAgICk7XG5cbiAgICAvLyBQb3NpdGlvbiBidWJibGUgb3ZlciB0aGUgY2hhcmFjdGVyLlxuICAgIHRoaXMuX2J1YmJsZS5zZXRQb3NpdGlvbihcbiAgICAgIHRoaXMuX3BsYXllci54ICsgMTUsXG4gICAgICB0aGlzLl9wbGF5ZXIueSAtIHRoaXMuX3BsYXllci5oZWlnaHQgKyA1XG4gICAgKTtcbiAgICB0aGlzLl9mYWNlLnNldFBvc2l0aW9uKFxuICAgICAgdGhpcy5fcGxheWVyLnggKyAxNSxcbiAgICAgIHRoaXMuX3BsYXllci55IC0gdGhpcy5fcGxheWVyLmhlaWdodCAtIDJcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHNldHVwQW5pbWF0aW9ucyhzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgY29uc3QgYW5pbXMgPSBzY2VuZS5hbmltcztcbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnbGV2ZWwtdXAnLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICd1aScsXG4gICAgICAgIHsgcHJlZml4OiAnSGFwcHlGYWNlJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMiwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnbGV2ZWwtZG93bicsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ3VpJyxcbiAgICAgICAgeyBwcmVmaXg6ICdTYWRGYWNlJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMiwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcbiAgfVxuXG59IiwiaW1wb3J0IEFyY2FkZSA9IFBoYXNlci5QaHlzaWNzLkFyY2FkZTtcblxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIEFyY2FkZS5TcHJpdGUge1xuXG4gIHByaXZhdGUgX2JsaW5rRWZmZWN0OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBzdXBlcihzY2VuZSwgMCwgMCwgJ2NoYXJhY3RlcnMnKTtcbiAgICB0aGlzLl9ibGlua0VmZmVjdCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XG4gICAgICBkZWxheTogMTAwLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICBjYWxsYmFjazogdGhpcy5fc3dpdGNoVmlzaWJpbGl0eSxcbiAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXNcbiAgICB9KTtcbiAgICB0aGlzLl9ibGlua0VmZmVjdC5wYXVzZWQgPSB0cnVlO1xuICB9XG5cbiAgc2hvdyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMuYW5pbXMucGxheSgnYmVhLXJ1bm5pbmcnKTtcblxuICAgIGNvbnN0IGNvbGxpc2lvbkJveCA9IHsgd2lkdGg6IDM1LCBoZWlnaHQ6IDI1IH07XG4gICAgY29uc3QgYm9keSA9IHRoaXMuYm9keSBhcyBBcmNhZGUuQm9keTtcbiAgICBib2R5LnNldFNpemUoY29sbGlzaW9uQm94LndpZHRoLCBjb2xsaXNpb25Cb3guaGVpZ2h0LCBmYWxzZSk7XG4gICAgYm9keS5zZXRPZmZzZXQoNSwgdGhpcy5oZWlnaHQgLSBjb2xsaXNpb25Cb3guaGVpZ2h0KTtcbiAgICBib2R5LnJlc2V0KHgsIHkpO1xuICAgIHRoaXMuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xuXG4gICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICB9XG5cbiAganVtcCgpIHtcbiAgICB0aGlzLnNldFZlbG9jaXR5WSgtNjAwKTtcbiAgfVxuXG4gIGhpdCgpIHtcbiAgICBpZiAodGhpcy5fYmxpbmtFZmZlY3QucGF1c2VkKSB7XG4gICAgICB0aGlzLl9ibGlua0VmZmVjdC5wYXVzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2JsaW5rRWZmZWN0LnBhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgIH0sIFtdLCB0aGlzKTtcbiAgICAgIHRoaXMuZW1pdCgnaGl0Jyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfc3dpdGNoVmlzaWJpbGl0eSgpIHtcbiAgICB0aGlzLnNldFZpc2libGUoIXRoaXMudmlzaWJsZSk7XG4gIH1cblxuICBzdGF0aWMgc2V0dXBBbmltYXRpb25zKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBjb25zdCBhbmltcyA9IHNjZW5lLmFuaW1zO1xuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdiZWEtcnVubmluZycsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ2NoYXJhY3RlcnMnLFxuICAgICAgICB7IHByZWZpeDogJ0JlYV9SdW4nLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiA0LCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuXG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ3NhbHZhLXJ1bm5pbmcnLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdTYWx2YV9SdW4nLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiA0LCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuXG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2JlYS1pZGxlJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnY2hhcmFjdGVycycsXG4gICAgICAgIHsgcHJlZml4OiAnQmVhX0lkbGUnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAyLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiAyLFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuXG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ3NhbHZhLWlkbGUnLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdTYWx2YV9JZGxlJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMiwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogMixcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcblxuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdiZWEtd2luJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnY2hhcmFjdGVycycsXG4gICAgICAgIHsgcHJlZml4OiAnQmVhX1dpbicsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDMsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG5cbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnc2FsdmEtd2luJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnY2hhcmFjdGVycycsXG4gICAgICAgIHsgcHJlZml4OiAnU2FsdmFfV2luJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMywgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCBBcmNhZGUgPSBQaGFzZXIuUGh5c2ljcy5BcmNhZGU7XG5cbmV4cG9ydCBjbGFzcyBDYWNvdGEgZXh0ZW5kcyBBcmNhZGUuU3ByaXRlIHtcblxuICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgc3VwZXIoc2NlbmUsIDAsIDAsICdvYnN0YWNsZXMnKTtcbiAgfVxuXG4gIHNob3coeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLmFuaW1zLnBsYXkoJ2NhY290YScpO1xuXG4gICAgY29uc3QgYm9keSA9IHRoaXMuYm9keSBhcyBBcmNhZGUuQm9keTtcbiAgICBib2R5LnJlc2V0KHgsIHkpO1xuICAgIGJvZHkuc2V0U2l6ZSh0aGlzLndpZHRoLzIsIHRoaXMuaGVpZ2h0LzIsIGZhbHNlKTtcbiAgICBib2R5LnNldE9mZnNldCgwLCB0aGlzLmhlaWdodC8yKTtcbiAgICB0aGlzLnNldEJvdW5jZSgwLjQpO1xuICAgIHRoaXMuc2V0VmVsb2NpdHlYKC0zMDApO1xuXG4gICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGlmICh0aGlzLmJvZHkucmlnaHQgPCAtMTApIHtcbiAgICAgIHRoaXMuc2V0QWN0aXZlKGZhbHNlKTtcbiAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHNldHVwQW5pbWF0aW9ucyhzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgY29uc3QgYW5pbXMgPSBzY2VuZS5hbmltcztcbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnY2Fjb3RhJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnb2JzdGFjbGVzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdQb29fSWRsZScsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDMsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllcic7XG5cbmV4cG9ydCBjbGFzcyBDb250cm9sIHtcblxuICBwcml2YXRlIF9wb2ludGVyOiBQaGFzZXIuSW5wdXQuUG9pbnRlcjtcblxuICBwcml2YXRlIF9jdXJzb3JzOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuQ3Vyc29yS2V5cztcblxuICBwcml2YXRlIF9wbGF5ZXI6IFBsYXllcjtcblxuICBwcml2YXRlIF9qdW1wRGVhZGxpbmU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihjdXJzb3JzOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuQ3Vyc29yS2V5cywgcG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXIsIHBsYXllcjogUGxheWVyKSB7XG4gICAgdGhpcy5fcG9pbnRlciA9IHBvaW50ZXI7XG4gICAgdGhpcy5fY3Vyc29ycyA9IGN1cnNvcnM7XG4gICAgdGhpcy5fcGxheWVyID0gcGxheWVyO1xuICB9XG5cbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xuICAgIHRoaXMuX3Jlc29sdmVKdW1wKHRpbWUsIGRlbHRhKTtcbiAgfVxuXG4gIHByaXZhdGUgX3Jlc29sdmVKdW1wKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xuICAgIGNvbnN0IG9uVGhlR3JvdW5kID0gdGhpcy5fcGxheWVyLmJvZHkudG91Y2hpbmcuZG93bjtcbiAgICBjb25zdCB3YW50SnVtcCA9IHRoaXMuX2N1cnNvcnMuc3BhY2UuaXNEb3duIHx8IHRoaXMuX3BvaW50ZXIuaXNEb3duO1xuICAgIGlmICh3YW50SnVtcCAmJiBvblRoZUdyb3VuZCkge1xuICAgICAgdGhpcy5fanVtcERlYWRsaW5lID0gdGltZSArIDIwMDtcbiAgICB9XG4gICAgaWYgKHdhbnRKdW1wICYmIHRpbWUgPCB0aGlzLl9qdW1wRGVhZGxpbmUpIHtcbiAgICAgIHRoaXMuX3BsYXllci5qdW1wKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgTGF5ZXJzIH0gZnJvbSAnLi9kZXB0aHMnO1xuXG5mdW5jdGlvbiBvbmVPZjxUPihsOiBBcnJheTxUPik6IFQge1xuICByZXR1cm4gbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsLmxlbmd0aCldO1xufVxuXG5mdW5jdGlvbiBiZXR3ZWVuKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IGxlbmd0aCA9IG1heCAtIG1pbjtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiBsZW5ndGggKyBtaW47XG59XG5cbmNsYXNzIERlY29yYXRpb24gZXh0ZW5kcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuU3ByaXRlIHtcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIHN1cGVyKHNjZW5lLCAwLCAwLCAnZGVjbycpO1xuICAgIHRoaXMuX2Rpc2FibGUoKTtcbiAgfVxuXG4gIF9kaXNhYmxlKCkge1xuICAgIHRoaXMuc2V0QWN0aXZlKGZhbHNlKTtcbiAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGlmICh0aGlzLmJvZHkucmlnaHQgPCAtMTApIHtcbiAgICAgIHRoaXMuX2Rpc2FibGUoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgR3Jhc3NEZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBzdXBlcihzY2VuZSk7XG4gICAgdGhpcy5zZXRPcmlnaW4oMC41LCAxKTtcbiAgfVxuXG4gIHNob3coZ3JvdW5kSGVpZ2h0OiBudW1iZXIsIGRlcHRoOiBudW1iZXIpIHtcbiAgICB0aGlzLnNldEZyYW1lKG9uZU9mKFtcbiAgICAgICdHcmFzczAxLnBuZycsXG4gICAgICAnR3Jhc3MwMi5wbmcnLFxuICAgICAgJ0dyYXNzMDMucG5nJ1xuICAgIF0pKTtcbiAgICB0aGlzLmRlcHRoID0gZGVwdGg7XG4gICAgY29uc3QgYm9keSA9IHRoaXMuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcbiAgICBib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XG4gICAgY29uc3QgbWFpbkNhbWVyYSA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluO1xuICAgIGJvZHkucmVzZXQoXG4gICAgICBiZXR3ZWVuKG1haW5DYW1lcmEud2lkdGggKyB0aGlzLndpZHRoLCBtYWluQ2FtZXJhLndpZHRoICogMiksXG4gICAgICBncm91bmRIZWlnaHRcbiAgICApO1xuICAgIHRoaXMuc2V0VmVsb2NpdHlYKC0zMDApO1xuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgfVxufVxuXG5jbGFzcyBDbG91ZERlY29yYXRpb24gZXh0ZW5kcyBEZWNvcmF0aW9uIHtcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIHN1cGVyKHNjZW5lKTtcbiAgICB0aGlzLnNldE9yaWdpbigwLjUsIDEpO1xuICB9XG5cbiAgc2hvdyhncm91bmRIZWlnaHQ6IG51bWJlciwgZGVwdGg6IG51bWJlcikge1xuICAgIHRoaXMuc2V0RnJhbWUob25lT2YoW1xuICAgICAgJ0Nsb3VkMDEucG5nJyxcbiAgICAgICdDbG91ZDAyLnBuZycsXG4gICAgICAnQ2xvdWQwMy5wbmcnLFxuICAgICAgJ0Nsb3VkMDQucG5nJ1xuICAgIF0pKTtcbiAgICBjb25zdCBib2R5ID0gdGhpcy5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5O1xuICAgIGNvbnN0IHNob3dIZWlnaHQgPSBNYXRoLmZsb29yKGJldHdlZW4odGhpcy5oZWlnaHQsIGdyb3VuZEhlaWdodCkpO1xuICAgIGNvbnN0IG1haW5DYW1lcmEgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbjtcbiAgICBib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XG4gICAgYm9keS5yZXNldChcbiAgICAgIGJldHdlZW4obWFpbkNhbWVyYS53aWR0aCArIHRoaXMud2lkdGgsIG1haW5DYW1lcmEud2lkdGggKiAyKSxcbiAgICAgIHNob3dIZWlnaHRcbiAgICApO1xuICAgIGNvbnN0IFt2LCBkZXB0aE9mZnNldF0gPSBvbmVPZihbWzEwLCAwXSwgWzEwMCwgMV0sIFszMDAsIDJdXSk7XG4gICAgdGhpcy5kZXB0aCA9IGRlcHRoICsgZGVwdGhPZmZzZXQ7XG4gICAgdGhpcy5zZXRWZWxvY2l0eVgoLWJldHdlZW4odiAqIDAuOCwgdiAqIDEuMikpO1xuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmdNYW5hZ2VyIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xuXG4gIHByaXZhdGUgX2dyb3VuZDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcblxuICBwcml2YXRlIF9ncm91bmRIZWlnaHQ6IG51bWJlcjtcblxuICBwcml2YXRlIF9iZ0RlcHRoOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfZmdEZXB0aDogbnVtYmVyO1xuXG4gIHByaXZhdGUgX2dyYXNzOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuR3JvdXA7XG5cbiAgcHJpdmF0ZSBfY2xvdWRzOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuR3JvdXA7XG5cbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgZ3JvdW5kOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlLCBiZ0RlcHRoOiBudW1iZXIsIGZnRGVwdGg6IG51bWJlcikge1xuICAgIHN1cGVyKHNjZW5lLCAnYmctbWFuYWdlcicpO1xuICAgIHRoaXMuX2dyb3VuZCA9IGdyb3VuZDtcbiAgICB0aGlzLl9ncm91bmRIZWlnaHQgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5oZWlnaHQgLSB0aGlzLl9ncm91bmQuaGVpZ2h0O1xuICAgIHRoaXMuX2JnRGVwdGggPSBiZ0RlcHRoO1xuICAgIHRoaXMuX2ZnRGVwdGggPSBmZ0RlcHRoO1xuICAgIHRoaXMuX2dyYXNzID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5ncm91cCh7XG4gICAgICBjbGFzc1R5cGU6IEdyYXNzRGVjb3JhdGlvbixcbiAgICAgIG1heFNpemU6IDIwLFxuICAgICAgcnVuQ2hpbGRVcGRhdGU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLl9jbG91ZHMgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmdyb3VwKHtcbiAgICAgIGNsYXNzVHlwZTogQ2xvdWREZWNvcmF0aW9uLFxuICAgICAgbWF4U2l6ZTogMTAsXG4gICAgICBydW5DaGlsZFVwZGF0ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5fZ3JvdW5kLCB0aGlzLl9ncmFzcyk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjQpIHtcbiAgICAgIGNvbnN0IGdyYXNzID0gdGhpcy5fZ3Jhc3MuZ2V0KCk7XG4gICAgICBpZiAoZ3Jhc3MpIHtcbiAgICAgICAgZ3Jhc3Muc2hvdyh0aGlzLl9ncm91bmRIZWlnaHQsIHRoaXMuX2ZnRGVwdGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNsb3VkID0gdGhpcy5fY2xvdWRzLmdldCgpO1xuICAgIGlmIChjbG91ZCkge1xuICAgICAgY2xvdWQuc2hvdyh0aGlzLl9ncm91bmRIZWlnaHQgLyA2ICogNSwgdGhpcy5fYmdEZXB0aCk7XG4gICAgfVxuICB9XG59IiwiXG5leHBvcnQgZW51bSBMYXllcnMge1xuICBCRyA9IDAsXG4gIEJHX0VMRU1FTlRTID0gMTAsXG4gIFBMQVlFUiA9IDEwMCxcbiAgT0JTVEFDTEVTID0gMTEwLFxuICBGRyA9IDIwMCxcbiAgVUkgPSAzMDBcbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllcic7XG5pbXBvcnQgeyBDYWNvdGEgfSBmcm9tICcuL29ic3RhY2xlcyc7XG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSAnLi9jb250cm9sJztcbmltcG9ydCB7IEhhcHB5T01ldGVyIH0gZnJvbSAnLi9oYXBweS1vLW1ldGVyJztcbmltcG9ydCB7IEJnTWFuYWdlciB9IGZyb20gJy4vYmFja2dyb3VuZHMnO1xuXG5jb25zdCBwaHlzaWNhbFJlc29sdXRpb24gPSB7XG4gIHdpZHRoOiA4MDAsXG4gIGhlaWdodDogNDUwXG59O1xuXG5pbXBvcnQgQXJjYWRlID0gUGhhc2VyLlBoeXNpY3MuQXJjYWRlO1xuaW1wb3J0IHsgTGF5ZXJzIH0gZnJvbSAnLi9kZXB0aHMnO1xuY2xhc3MgTWFpblRyYWNrIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcblxuICBjb250cm9sOiBDb250cm9sO1xuXG4gIGhhcHluZXNzOiBIYXBweU9NZXRlcjtcblxuICBwbGF5ZXI6IFBsYXllcjtcblxuICBncm91bmRMaW5lOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuU3ByaXRlO1xuXG4gIGp1bXBEZWFkbGluZTogbnVtYmVyO1xuXG4gIGFub3RoZXJPYnN0YWNsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgb2JzdGFjbGVzOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuR3JvdXA7XG5cbiAgYmFja2dyb3VuZDogQmdNYW5hZ2VyO1xuXG4gIHByZWxvYWQoKSB7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdiZycsICdhc3NldHMvZW52aXJvbm1lbnRzL2JhY2tncm91bmQtdGVzdC5wbmcnKTtcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2dyb3VuZCcsICdhc3NldHMvZW52aXJvbm1lbnRzL2dyb3VuZC1saW5lLnBuZycpO1xuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICdhc3NldHMvY2hhcmFjdGVycy9jaGFyYWN0ZXJzLnBuZycsXG4gICAgICAnYXNzZXRzL2NoYXJhY3RlcnMvY2hhcmFjdGVycy5qc29uJ1xuICAgICk7XG4gICAgdGhpcy5sb2FkLmF0bGFzKFxuICAgICAgJ29ic3RhY2xlcycsXG4gICAgICAnYXNzZXRzL29ic3RhY2xlcy9vYnN0YWNsZXMucG5nJyxcbiAgICAgICdhc3NldHMvb2JzdGFjbGVzL29ic3RhY2xlcy5qc29uJ1xuICAgICk7XG4gICAgdGhpcy5sb2FkLmF0bGFzKFxuICAgICAgJ3VpJyxcbiAgICAgICdhc3NldHMvdWkvdWkucG5nJyxcbiAgICAgICdhc3NldHMvdWkvdWkuanNvbidcbiAgICApXG4gICAgdGhpcy5sb2FkLmF0bGFzKFxuICAgICAgJ2RlY28nLFxuICAgICAgJ2Fzc2V0cy9lbnZpcm9ubWVudHMvZGVjby5wbmcnLFxuICAgICAgJ2Fzc2V0cy9lbnZpcm9ubWVudHMvZGVjby5qc29uJ1xuICAgIClcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBQbGF5ZXIuc2V0dXBBbmltYXRpb25zKHRoaXMpO1xuICAgIENhY290YS5zZXR1cEFuaW1hdGlvbnModGhpcyk7XG4gICAgSGFwcHlPTWV0ZXIuc2V0dXBBbmltYXRpb25zKHRoaXMpO1xuXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnYmcnKS5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICBjb25zdCBncm91bmQgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XG4gICAgdGhpcy5ncm91bmRMaW5lID0gZ3JvdW5kLmNyZWF0ZShcbiAgICAgIDAsIHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQsXG4gICAgICAnZ3JvdW5kJ1xuICAgICk7XG4gICAgdGhpcy5ncm91bmRMaW5lLnNldE9yaWdpbigwLCAxKTtcbiAgICB0aGlzLmdyb3VuZExpbmUuc2V0U2NhbGUoMiwgMSk7XG4gICAgdGhpcy5ncm91bmRMaW5lLnJlZnJlc2hCb2R5KCk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3IEJnTWFuYWdlcih0aGlzLnNjZW5lLnNjZW5lLCB0aGlzLmdyb3VuZExpbmUsIExheWVycy5CR19FTEVNRU5UUywgTGF5ZXJzLkZHKTtcblxuICAgIHRoaXMub2JzdGFjbGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCh7XG4gICAgICBjbGFzc1R5cGU6IENhY290YSxcbiAgICAgIG1heFNpemU6IDIwLFxuICAgICAgcnVuQ2hpbGRVcGRhdGU6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMucGxheWVyID0gdGhpcy5hZGQuZXhpc3RpbmcobmV3IFBsYXllcih0aGlzLnNjZW5lLnNjZW5lKSkgYXMgUGxheWVyO1xuICAgIHRoaXMucGxheWVyLmRlcHRoID0gTGF5ZXJzLlBMQVlFUjtcbiAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxheWVyKTtcbiAgICB0aGlzLnBsYXllci5zaG93KFxuICAgICAgcGh5c2ljYWxSZXNvbHV0aW9uLndpZHRoIC8gNCxcbiAgICAgIHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQgLyAyXG4gICAgKTtcblxuICAgIHRoaXMuY29udHJvbCA9IG5ldyBDb250cm9sKFxuICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCksXG4gICAgICB0aGlzLmlucHV0LmFkZFBvaW50ZXIoKVswXSxcbiAgICAgIHRoaXMucGxheWVyXG4gICAgKTtcblxuICAgIHRoaXMuaGFweW5lc3MgPSB0aGlzLmFkZC5leGlzdGluZyhcbiAgICAgIG5ldyBIYXBweU9NZXRlcih0aGlzLnNjZW5lLnNjZW5lLCB0aGlzLnBsYXllciwgTGF5ZXJzLlVJKVxuICAgICkgYXMgSGFwcHlPTWV0ZXI7XG5cbiAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyLCBncm91bmQpO1xuICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5vYnN0YWNsZXMsIGdyb3VuZCk7XG4gICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVyLCB0aGlzLm9ic3RhY2xlcywgKHBsYXllciwgY2Fjb3RhKSA9PiB7XG4gICAgICB0aGlzLnBsYXllci5oaXQoKVxuICAgIH0sIG51bGwsIHRoaXMpO1xuXG4gICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnaGlkaW5nLW90dGVyJyxcbiAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdvYnN0YWNsZXMnLFxuICAgICAgICB7IHByZWZpeDogJ090dGVyX0hpZGUnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiA0LCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiAzLFxuICAgICAgcmVwZWF0OiAxXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUodGltZTogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7XG4gICAgdGhpcy5jb250cm9sLnVwZGF0ZSh0aW1lLCBkZWx0YSk7XG4gICAgdGhpcy5oYXB5bmVzcy51cGRhdGUodGltZSwgZGVsdGEpO1xuICAgIHRoaXMuYmFja2dyb3VuZC51cGRhdGUoKTtcbiAgICBpZiAodGhpcy5hbm90aGVyT2JzdGFjbGUpIHtcbiAgICAgIHRoaXMuYW5vdGhlck9ic3RhY2xlID0gZmFsc2U7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYW5vdGhlck9ic3RhY2xlID0gdHJ1ZSwgMTAwMCk7XG4gICAgICBjb25zdCBjYWNvdGEgPSB0aGlzLm9ic3RhY2xlcy5nZXQoKTtcbiAgICAgIGNhY290YS5kZXB0aCA9IExheWVycy5PQlNUQUNMRVM7XG4gICAgICBjYWNvdGEuc2hvdyhwaHlzaWNhbFJlc29sdXRpb24ud2lkdGgsIHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQvMik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgdHlwZTogUGhhc2VyLkFVVE8sXG4gIHdpZHRoOiBwaHlzaWNhbFJlc29sdXRpb24ud2lkdGgsXG4gIGhlaWdodDogcGh5c2ljYWxSZXNvbHV0aW9uLmhlaWdodCxcbiAgc2NlbmU6IE1haW5UcmFjayxcbiAgcGl4ZWxBcnQ6IHRydWUsXG4gIHBoeXNpY3M6IHtcbiAgICBkZWZhdWx0OiAnYXJjYWRlJyxcbiAgICBhcmNhZGU6IHtcbiAgICAgIGdyYXZpdHk6IHsgeTogNDAwMCB9LFxuICAgICAgZGVidWc6IGZhbHNlXG4gICAgfVxuICB9LFxuICBjYW52YXM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpXG59O1xuXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sInNvdXJjZVJvb3QiOiIifQ==