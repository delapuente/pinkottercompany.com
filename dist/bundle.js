!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var i,r,n=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),a=function(e){function t(t){var s=e.call(this,t,0,0,"characters")||this;return s._blinkEffect=s.scene.time.addEvent({delay:100,loop:!0,repeat:1/0,callback:s._switchVisibility,callbackScope:s}),s._blinkEffect.paused=!0,s}return n(t,e),t.prototype.show=function(e,t){this.anims.play("bea-running");var s=35,i=25,r=this.body;r.setSize(s,i,!1),r.setOffset(5,this.height-i),r.reset(e,t),this.setCollideWorldBounds(!0),this.setVisible(!0),this.setActive(!0)},t.prototype.jump=function(){this.setVelocityY(-600)},t.prototype.hit=function(){var e=this;this._blinkEffect.paused&&(this._blinkEffect.paused=!1,this.scene.time.delayedCall(3e3,function(){e._blinkEffect.paused=!0,e.setVisible(!0)},[],this),this.emit("hit"))},t.prototype._switchVisibility=function(){this.setVisible(!this.visible)},t.setupAnimations=function(e){var t=e.anims;t.create({key:"bea-running",frames:t.generateFrameNames("characters",{prefix:"Bea_Run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"salva-running",frames:t.generateFrameNames("characters",{prefix:"Salva_Run",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"bea-idle",frames:t.generateFrameNames("characters",{prefix:"Bea_Idle",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:2,repeat:1/0}),t.create({key:"salva-idle",frames:t.generateFrameNames("characters",{prefix:"Salva_Idle",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:2,repeat:1/0}),t.create({key:"bea-win",frames:t.generateFrameNames("characters",{prefix:"Bea_Win",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"salva-win",frames:t.generateFrameNames("characters",{prefix:"Salva_Win",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.Physics.Arcade.Sprite),o=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),c=function(e){function t(t){return e.call(this,t,0,0,"obstacles")||this}return o(t,e),t.prototype.show=function(e,t){this.anims.play("cacota");var s=this.body;s.reset(e,t),s.setSize(this.width/2,this.height/2,!1),s.setOffset(0,this.height/2),this.setBounce(.4),this.setVelocityX(-300),this.setVisible(!0),this.setActive(!0)},t.prototype.update=function(){this.body.right<-10&&(this.setActive(!1),this.setVisible(!1))},t.setupAnimations=function(e){var t=e.anims;t.create({key:"cacota",frames:t.generateFrameNames("obstacles",{prefix:"Poo_Idle",zeroPad:2,start:1,end:3,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.Physics.Arcade.Sprite),h=function(){function e(e,t,s){this._cursors=e,this._pointer=t,this._player=s}return e.prototype.update=function(e,t){this._resolveJump(e,t)},e.prototype._resolveJump=function(e,t){var s=this._player.body.touching.down,i=this._cursors.space.isDown||this._pointer.isDown;i&&s&&(this._jumpDeadline=e+200),i&&e<this._jumpDeadline&&this._player.jump()},e}(),u=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),p=["tienen baches","están bien","van guay","están chachi","son felices","son MUY felices"];!function(e){e[e.Happy=0]="Happy",e[e.Sad=1]="Sad"}(r||(r={}));var l=function(e){function t(t,s,i){var r=e.call(this,t,"metter")||this;return r._progress=0,r._currentLevel=1,r._player=s,r._depth=i,r._bubble=r.scene.add.image(0,0,"ui","Balloon"),r._bubble.depth=r._depth,r._face=r.scene.add.sprite(0,0,"ui"),r._face.depth=r._bubble.depth+1,r._hideBubble(),r._player.on("hit",r._loose,r),r._scoreText=r.scene.add.text(0,0,""),r._scoreText.depth=r._depth,r._setupLevel(r._currentLevel),r._bar=r.scene.add.graphics(),r}return u(t,e),t.prototype._setupLevel=function(e){var t=this.scene.cameras.main.width,s=this.scene.cameras.main.height;this._scoreText.setText(p[e]);var i=this._scoreText.width;this._scoreText.x=(t-i)/2,this._scoreText.y=s-45,this._progress=0},t.prototype._loose=function(){this._showBubble(r.Sad,3e3),this._progress-=.6,this._progress<0&&(this._progress=0,this._levelDown())},t.prototype._levelDown=function(){this._currentLevel>0&&(this._currentLevel--,this._setupLevel(this._currentLevel))},t.prototype._levelUp=function(){this._currentLevel<p.length-1&&(this._currentLevel++,this._setupLevel(this._currentLevel),this._showBubble(r.Happy,3e3))},t.prototype._showBubble=function(e,t){var s=this;this._bubble.setVisible(!0),this._face.setVisible(!0),this._face.anims.play(e==r.Happy?"level-up":"level-down"),this.scene.time.delayedCall(t,function(){s._hideBubble()},[],this)},t.prototype._hideBubble=function(){this._bubble.setVisible(!1),this._face.setVisible(!1)},t.prototype.update=function(e,t){this._bar.clear(),this._progress+=t/1e3*10/100,this._progress>=1&&(this._currentLevel<p.length-1?this._levelUp():this._progress=1);var s=this.scene.cameras.main.width/3,i=this.scene.cameras.main.height-15;this._bar.lineStyle(5,16777215,1),this._bar.lineBetween(s,i,s+s*this._progress,i),this._bubble.setPosition(this._player.x+15,this._player.y-this._player.height+5),this._face.setPosition(this._player.x+15,this._player.y-this._player.height-2)},t.setupAnimations=function(e){var t=e.anims;t.create({key:"level-up",frames:t.generateFrameNames("ui",{prefix:"HappyFace",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:5,repeat:1/0}),t.create({key:"level-down",frames:t.generateFrameNames("ui",{prefix:"SadFace",zeroPad:2,start:1,end:2,suffix:".png"}),frameRate:5,repeat:1/0})},t}(Phaser.GameObjects.GameObject),d=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();function f(e){return e[Math.floor(Math.random()*e.length)]}function _(e,t){var s=t-e;return Math.random()*s+e}var y,g=function(e){function t(t){var s=e.call(this,t,0,0,"deco")||this;return s._disable(),s}return d(t,e),t.prototype._disable=function(){this.setActive(!1),this.setVisible(!1)},t.prototype.update=function(){this.body.right<-10&&this._disable()},t}(Phaser.Physics.Arcade.Sprite),b=function(e){function t(t){var s=e.call(this,t)||this;return s.setOrigin(.5,1),s}return d(t,e),t.prototype.show=function(e,t){this.setFrame(f(["Grass01.png","Grass02.png","Grass03.png"])),this.depth=t;var s=this.body;s.setAllowGravity(!1);var i=this.scene.cameras.main;s.reset(_(i.width+this.width,2*i.width),e),this.setVelocityX(-300),this.setActive(!0),this.setVisible(!0)},t}(g),m=function(e){function t(t){var s=e.call(this,t)||this;return s.setOrigin(.5,1),s}return d(t,e),t.prototype.show=function(e,t){this.setFrame(f(["Cloud01.png","Cloud02.png","Cloud03.png","Cloud04.png"]));var s=this.body,i=Math.floor(_(this.height,e)),r=this.scene.cameras.main;s.setAllowGravity(!1),s.reset(_(r.width+this.width,2*r.width),i);var n=f([[10,0],[100,1],[300,2]]),a=n[0],o=n[1];this.depth=t+o,this.setVelocityX(-_(.8*a,1.2*a)),this.setActive(!0),this.setVisible(!0)},t}(g),v=function(e){function t(t,s,i,r){var n=e.call(this,t,"bg-manager")||this;return n._ground=s,n._groundHeight=n.scene.cameras.main.height-n._ground.height,n._bgDepth=i,n._fgDepth=r,n._grass=n.scene.physics.add.group({classType:b,maxSize:20,runChildUpdate:!0}),n._clouds=n.scene.physics.add.group({classType:m,maxSize:10,runChildUpdate:!0}),n.scene.physics.add.collider(n._ground,n._grass),n}return d(t,e),t.prototype.update=function(){if(Math.random()<.4){var e=this._grass.get();e&&e.show(this._groundHeight,this._fgDepth)}var t=this._clouds.get();t&&t.show(this._groundHeight/6*5,this._bgDepth)},t}(Phaser.GameObjects.GameObject);!function(e){e[e.BG=0]="BG",e[e.BG_ELEMENTS=10]="BG_ELEMENTS",e[e.PLAYER=100]="PLAYER",e[e.OBSTACLES=110]="OBSTACLES",e[e.FG=200]="FG",e[e.UI=300]="UI"}(y||(y={}));var w=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function i(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}(),O={width:800,height:450},x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anotherObstacle=!0,t}return w(t,e),t.prototype.preload=function(){this.load.image("bg","assets/environments/background-test.png"),this.load.image("ground","assets/environments/ground-line.png"),this.load.atlas("characters","assets/characters/characters.png","assets/characters/characters.json"),this.load.atlas("obstacles","assets/obstacles/obstacles.png","assets/obstacles/obstacles.json"),this.load.atlas("ui","assets/ui/ui.png","assets/ui/ui.json"),this.load.atlas("deco","assets/environments/deco.png","assets/environments/deco.json")},t.prototype.create=function(){var e=this;a.setupAnimations(this),c.setupAnimations(this),l.setupAnimations(this);this.add.image(0,0,"bg").setOrigin(0,0);var t=this.physics.add.staticGroup();this.groundLine=t.create(0,O.height,"ground"),this.groundLine.setOrigin(0,1),this.groundLine.setScale(2,1),this.groundLine.refreshBody(),this.background=new v(this.scene.scene,this.groundLine,y.BG_ELEMENTS,y.FG),this.obstacles=this.physics.add.group({classType:c,maxSize:20,runChildUpdate:!0}),this.player=this.add.existing(new a(this.scene.scene)),this.player.depth=y.PLAYER,this.physics.add.existing(this.player),this.player.show(O.width/4,O.height/2),this.input.addPointer(),this.control=new h(this.input.keyboard.createCursorKeys(),this.input.pointer1,this.player),this.hapyness=this.add.existing(new l(this.scene.scene,this.player,y.UI)),this.physics.add.collider(this.player,t),this.physics.add.collider(this.obstacles,t),this.physics.add.overlap(this.player,this.obstacles,function(t,s){e.player.hit()},null,this),this.anims.create({key:"hiding-otter",frames:this.anims.generateFrameNames("obstacles",{prefix:"Otter_Hide",zeroPad:2,start:1,end:4,suffix:".png"}),frameRate:3,repeat:1})},t.prototype.update=function(e,t){var s=this;if(this.control.update(e,t),this.hapyness.update(e,t),this.background.update(),this.anotherObstacle){this.anotherObstacle=!1,setTimeout(function(){return s.anotherObstacle=!0},1e3);var i=this.obstacles.get();i.depth=y.OBSTACLES,i.show(O.width,O.height/2)}},t}(Phaser.Scene),P=document.querySelector("canvas"),S={type:Phaser.AUTO,width:O.width,height:O.height,pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:4e3},debug:!1}},canvas:P},A=new Phaser.Game(S);function j(){var e=screen.width<3*O.width/4;document.querySelector("#gaming-area .notice").hidden=!e}A.scene.add("main",x),P.removeAttribute("style"),window.onorientationchange=j,j(),document.querySelector("#start").addEventListener("click",function(){document.querySelector("#gaming-area .cover").hidden=!0,P.requestFullscreen(),A.scene.start("main")})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhcHB5LW8tbWV0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JzdGFjbGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVwdGhzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJ1YmJsZXMiLCJQbGF5ZXIiLCJfc3VwZXIiLCJzY2VuZSIsIl90aGlzIiwidGhpcyIsIl9ibGlua0VmZmVjdCIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwibG9vcCIsInJlcGVhdCIsIkluZmluaXR5IiwiY2FsbGJhY2siLCJfc3dpdGNoVmlzaWJpbGl0eSIsImNhbGxiYWNrU2NvcGUiLCJwYXVzZWQiLCJfX2V4dGVuZHMiLCJzaG93IiwieCIsInkiLCJhbmltcyIsInBsYXkiLCJjb2xsaXNpb25Cb3giLCJib2R5Iiwic2V0U2l6ZSIsInNldE9mZnNldCIsImhlaWdodCIsInJlc2V0Iiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0VmlzaWJsZSIsInNldEFjdGl2ZSIsImp1bXAiLCJzZXRWZWxvY2l0eVkiLCJoaXQiLCJkZWxheWVkQ2FsbCIsImVtaXQiLCJ2aXNpYmxlIiwic2V0dXBBbmltYXRpb25zIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU5hbWVzIiwicHJlZml4IiwiemVyb1BhZCIsInN0YXJ0IiwiZW5kIiwic3VmZml4IiwiZnJhbWVSYXRlIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFyY2FkZSIsIlNwcml0ZSIsIkNhY290YSIsIm9ic3RhY2xlc19leHRlbmRzIiwid2lkdGgiLCJzZXRCb3VuY2UiLCJzZXRWZWxvY2l0eVgiLCJ1cGRhdGUiLCJyaWdodCIsIkNvbnRyb2wiLCJjdXJzb3JzIiwicG9pbnRlciIsInBsYXllciIsIl9jdXJzb3JzIiwiX3BvaW50ZXIiLCJfcGxheWVyIiwiZGVsdGEiLCJfcmVzb2x2ZUp1bXAiLCJvblRoZUdyb3VuZCIsInRvdWNoaW5nIiwiZG93biIsIndhbnRKdW1wIiwic3BhY2UiLCJpc0Rvd24iLCJfanVtcERlYWRsaW5lIiwic3RhdGVzIiwiSGFwcHlPTWV0ZXIiLCJkZXB0aCIsIl9wcm9ncmVzcyIsIl9jdXJyZW50TGV2ZWwiLCJfZGVwdGgiLCJfYnViYmxlIiwiYWRkIiwiaW1hZ2UiLCJfZmFjZSIsInNwcml0ZSIsIl9oaWRlQnViYmxlIiwib24iLCJfbG9vc2UiLCJfc2NvcmVUZXh0IiwidGV4dCIsIl9zZXR1cExldmVsIiwiX2JhciIsImdyYXBoaWNzIiwiaGFwcHlfb19tZXRlcl9leHRlbmRzIiwibGV2ZWwiLCJjYW1lcmFzIiwibWFpbiIsInNldFRleHQiLCJ0ZXh0V2lkdGgiLCJfc2hvd0J1YmJsZSIsIlNhZCIsIl9sZXZlbERvd24iLCJfbGV2ZWxVcCIsImxlbmd0aCIsIkhhcHB5IiwiYnViYmxlVHlwZSIsImNsZWFyIiwibGluZVN0eWxlIiwibGluZUJldHdlZW4iLCJzZXRQb3NpdGlvbiIsIkdhbWVPYmplY3RzIiwiR2FtZU9iamVjdCIsIm9uZU9mIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYmV0d2VlbiIsIm1pbiIsIm1heCIsIkxheWVycyIsIkRlY29yYXRpb24iLCJfZGlzYWJsZSIsImJhY2tncm91bmRzX2V4dGVuZHMiLCJHcmFzc0RlY29yYXRpb24iLCJzZXRPcmlnaW4iLCJncm91bmRIZWlnaHQiLCJzZXRGcmFtZSIsInNldEFsbG93R3Jhdml0eSIsIm1haW5DYW1lcmEiLCJDbG91ZERlY29yYXRpb24iLCJzaG93SGVpZ2h0IiwiX2EiLCJ2IiwiZGVwdGhPZmZzZXQiLCJCZ01hbmFnZXIiLCJncm91bmQiLCJiZ0RlcHRoIiwiZmdEZXB0aCIsIl9ncm91bmQiLCJfZ3JvdW5kSGVpZ2h0IiwiX2JnRGVwdGgiLCJfZmdEZXB0aCIsIl9ncmFzcyIsInBoeXNpY3MiLCJncm91cCIsImNsYXNzVHlwZSIsIm1heFNpemUiLCJydW5DaGlsZFVwZGF0ZSIsIl9jbG91ZHMiLCJjb2xsaWRlciIsImdyYXNzIiwiY2xvdWQiLCJwaHlzaWNhbFJlc29sdXRpb24iLCJzcmNfTWFpblRyYWNrIiwiTWFpblRyYWNrIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJhbm90aGVyT2JzdGFjbGUiLCJzcmNfZXh0ZW5kcyIsInByZWxvYWQiLCJsb2FkIiwiYXRsYXMiLCJzdGF0aWNHcm91cCIsImdyb3VuZExpbmUiLCJzZXRTY2FsZSIsInJlZnJlc2hCb2R5IiwiYmFja2dyb3VuZCIsIkJHX0VMRU1FTlRTIiwiRkciLCJvYnN0YWNsZXMiLCJleGlzdGluZyIsIlBMQVlFUiIsImlucHV0IiwiYWRkUG9pbnRlciIsImNvbnRyb2wiLCJrZXlib2FyZCIsImNyZWF0ZUN1cnNvcktleXMiLCJwb2ludGVyMSIsImhhcHluZXNzIiwiVUkiLCJvdmVybGFwIiwiY2Fjb3RhIiwic2V0VGltZW91dCIsIk9CU1RBQ0xFUyIsIlNjZW5lIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uZmlnIiwidHlwZSIsIkFVVE8iLCJwaXhlbEFydCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJnYW1lIiwiR2FtZSIsInNjcmVlblNpemVDaGVjayIsImlzVG9vU21hbGwiLCJzY3JlZW4iLCJoaWRkZW4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJ3aW5kb3ciLCJvbm9yaWVudGF0aW9uY2hhbmdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlcXVlc3RGdWxsc2NyZWVuIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFB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TThFLElBQUksT0FBUXdFLEdBQ3ZCZ0MsRUFBT2lCLGdCQUFnQixTQU92QkMsT0FBT0Msb0JBQXNCTixFQUM3QkEsSUFFQVosU0FBU0MsY0FBYyxVQUFVa0IsaUJBQWlCLFFBQVMsV0FDMUJuQixTQUFTQyxjQUFjLHVCQUM1Q2MsUUFBUyxFQUNuQmhCLEVBQU9xQixvQkFDUFYsRUFBS2pNLE1BQU13QyxNQUFNIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB7IE5PTkUgfSBmcm9tICdwaGFzZXInO1xuXG5jb25zdCBzdGF0ZXM6IEFycmF5PHN0cmluZz4gPSBbXG4gICd0aWVuZW4gYmFjaGVzJyxcbiAgJ2VzdMOhbiBiaWVuJyxcbiAgJ3ZhbiBndWF5JyxcbiAgJ2VzdMOhbiBjaGFjaGknLFxuICAnc29uIGZlbGljZXMnLFxuICAnc29uIE1VWSBmZWxpY2VzJ1xuXTtcblxuZW51bSBCdWJibGVzIHtcbiAgSGFwcHksIFNhZFxufVxuXG5leHBvcnQgY2xhc3MgSGFwcHlPTWV0ZXIgZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XG5cbiAgcHJpdmF0ZSBfYmFyOiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XG5cbiAgcHJpdmF0ZSBfcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBfY3VycmVudExldmVsOiBpbnRlZ2VyID0gMTtcblxuICBwcml2YXRlIF9zY29yZVRleHQ6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuXG4gIHByaXZhdGUgX3BsYXllcjogUGxheWVyO1xuXG4gIHByaXZhdGUgX2J1YmJsZTogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuXG4gIHByaXZhdGUgX2ZhY2U6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XG5cbiAgcHJpdmF0ZSBfZGVwdGg6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lLCBwbGF5ZXI6IFBsYXllciwgZGVwdGg6IG51bWJlcikge1xuICAgIHN1cGVyKHNjZW5lLCAnbWV0dGVyJyk7XG4gICAgdGhpcy5fcGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuX2RlcHRoID0gZGVwdGg7XG4gICAgdGhpcy5fYnViYmxlID0gdGhpcy5zY2VuZS5hZGQuaW1hZ2UoMCwgMCwgJ3VpJywgJ0JhbGxvb24nKTtcbiAgICB0aGlzLl9idWJibGUuZGVwdGggPSB0aGlzLl9kZXB0aDtcbiAgICB0aGlzLl9mYWNlID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKDAsIDAsICd1aScpO1xuICAgIHRoaXMuX2ZhY2UuZGVwdGggPSB0aGlzLl9idWJibGUuZGVwdGggKyAxO1xuICAgIHRoaXMuX2hpZGVCdWJibGUoKTtcbiAgICB0aGlzLl9wbGF5ZXIub24oJ2hpdCcsIHRoaXMuX2xvb3NlLCB0aGlzKTtcbiAgICB0aGlzLl9zY29yZVRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KDAsIDAsICcnKTtcbiAgICB0aGlzLl9zY29yZVRleHQuZGVwdGggPSB0aGlzLl9kZXB0aDtcbiAgICB0aGlzLl9zZXR1cExldmVsKHRoaXMuX2N1cnJlbnRMZXZlbCk7XG4gICAgdGhpcy5fYmFyID0gdGhpcy5zY2VuZS5hZGQuZ3JhcGhpY3MoKTtcbiAgfVxuXG4gIF9zZXR1cExldmVsKGxldmVsOiBudW1iZXIpIHtcbiAgICAvLyBTZXQgbGFiZWwgYW5kIGNlbnRlciB0ZXh0XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5oZWlnaHQ7XG4gICAgdGhpcy5fc2NvcmVUZXh0LnNldFRleHQoc3RhdGVzW2xldmVsXSk7XG4gICAgY29uc3QgdGV4dFdpZHRoID0gdGhpcy5fc2NvcmVUZXh0LndpZHRoO1xuICAgIHRoaXMuX3Njb3JlVGV4dC54ID0gKHdpZHRoIC0gdGV4dFdpZHRoKSAvIDI7XG4gICAgdGhpcy5fc2NvcmVUZXh0LnkgPSBoZWlnaHQgLSA0NTtcblxuICAgIC8vIFJlc2V0IHByb2dyZXNzXG4gICAgdGhpcy5fcHJvZ3Jlc3MgPSAwO1xuICB9XG5cbiAgX2xvb3NlKCkge1xuICAgIHRoaXMuX3Nob3dCdWJibGUoQnViYmxlcy5TYWQsIDMwMDApXG4gICAgdGhpcy5fcHJvZ3Jlc3MgLT0gMC42O1xuICAgIGlmICh0aGlzLl9wcm9ncmVzcyA8IDApIHtcbiAgICAgIHRoaXMuX3Byb2dyZXNzID0gMDtcbiAgICAgIHRoaXMuX2xldmVsRG93bigpO1xuICAgIH1cbiAgfVxuXG4gIF9sZXZlbERvd24oKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRMZXZlbCA+IDApIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRMZXZlbC0tO1xuICAgICAgdGhpcy5fc2V0dXBMZXZlbCh0aGlzLl9jdXJyZW50TGV2ZWwpO1xuICAgIH1cbiAgfVxuXG4gIF9sZXZlbFVwKCkge1xuICAgIGlmICh0aGlzLl9jdXJyZW50TGV2ZWwgPCBzdGF0ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgdGhpcy5fY3VycmVudExldmVsKys7XG4gICAgICB0aGlzLl9zZXR1cExldmVsKHRoaXMuX2N1cnJlbnRMZXZlbCk7XG4gICAgICB0aGlzLl9zaG93QnViYmxlKEJ1YmJsZXMuSGFwcHksIDMwMDApO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93QnViYmxlKGJ1YmJsZVR5cGU6IEJ1YmJsZXMsIHRpbWU6IG51bWJlcikge1xuICAgIHRoaXMuX2J1YmJsZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgIHRoaXMuX2ZhY2Uuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB0aGlzLl9mYWNlLmFuaW1zLnBsYXkoYnViYmxlVHlwZSA9PSBCdWJibGVzLkhhcHB5ID8gJ2xldmVsLXVwJyA6ICdsZXZlbC1kb3duJyk7XG4gICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKHRpbWUsICgpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVCdWJibGUoKTtcbiAgICB9LCBbXSwgdGhpcyk7XG4gIH1cblxuICBfaGlkZUJ1YmJsZSgpIHtcbiAgICB0aGlzLl9idWJibGUuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgdGhpcy5fZmFjZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpIHtcbiAgICB0aGlzLl9iYXIuY2xlYXIoKTtcbiAgICB0aGlzLl9wcm9ncmVzcyArPSAoZGVsdGEgLyAxMDAwKSAqIDEwIC8gMTAwO1xuICAgIGlmICh0aGlzLl9wcm9ncmVzcyA+PSAxKSB7XG4gICAgICBpZiAodGhpcy5fY3VycmVudExldmVsIDwgc3RhdGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5fbGV2ZWxVcCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzID0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYWtlIHRoZSBwcm9ncmVzcyBiYXIgdG8gZ3Jvdy5cbiAgICBjb25zdCBzdGFydCA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLndpZHRoIC8gMztcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5oZWlnaHQgLSAxNTtcbiAgICB0aGlzLl9iYXIubGluZVN0eWxlKDUsIDB4ZmZmZmZmLCAxKTtcbiAgICB0aGlzLl9iYXIubGluZUJldHdlZW4oXG4gICAgICBzdGFydCwgaGVpZ2h0LFxuICAgICAgc3RhcnQgKyBzdGFydCAqIHRoaXMuX3Byb2dyZXNzLCBoZWlnaHRcbiAgICApO1xuXG4gICAgLy8gUG9zaXRpb24gYnViYmxlIG92ZXIgdGhlIGNoYXJhY3Rlci5cbiAgICB0aGlzLl9idWJibGUuc2V0UG9zaXRpb24oXG4gICAgICB0aGlzLl9wbGF5ZXIueCArIDE1LFxuICAgICAgdGhpcy5fcGxheWVyLnkgLSB0aGlzLl9wbGF5ZXIuaGVpZ2h0ICsgNVxuICAgICk7XG4gICAgdGhpcy5fZmFjZS5zZXRQb3NpdGlvbihcbiAgICAgIHRoaXMuX3BsYXllci54ICsgMTUsXG4gICAgICB0aGlzLl9wbGF5ZXIueSAtIHRoaXMuX3BsYXllci5oZWlnaHQgLSAyXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBzZXR1cEFuaW1hdGlvbnMoc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIGNvbnN0IGFuaW1zID0gc2NlbmUuYW5pbXM7XG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2xldmVsLXVwJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAndWknLFxuICAgICAgICB7IHByZWZpeDogJ0hhcHB5RmFjZScsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDIsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2xldmVsLWRvd24nLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICd1aScsXG4gICAgICAgIHsgcHJlZml4OiAnU2FkRmFjZScsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDIsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG4gIH1cblxufSIsImltcG9ydCBBcmNhZGUgPSBQaGFzZXIuUGh5c2ljcy5BcmNhZGU7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBBcmNhZGUuU3ByaXRlIHtcblxuICBwcml2YXRlIF9ibGlua0VmZmVjdDogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcblxuICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgc3VwZXIoc2NlbmUsIDAsIDAsICdjaGFyYWN0ZXJzJyk7XG4gICAgdGhpcy5fYmxpbmtFZmZlY3QgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgZGVsYXk6IDEwMCxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgY2FsbGJhY2s6IHRoaXMuX3N3aXRjaFZpc2liaWxpdHksXG4gICAgICBjYWxsYmFja1Njb3BlOiB0aGlzXG4gICAgfSk7XG4gICAgdGhpcy5fYmxpbmtFZmZlY3QucGF1c2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHNob3coeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLmFuaW1zLnBsYXkoJ2JlYS1ydW5uaW5nJyk7XG5cbiAgICBjb25zdCBjb2xsaXNpb25Cb3ggPSB7IHdpZHRoOiAzNSwgaGVpZ2h0OiAyNSB9O1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmJvZHkgYXMgQXJjYWRlLkJvZHk7XG4gICAgYm9keS5zZXRTaXplKGNvbGxpc2lvbkJveC53aWR0aCwgY29sbGlzaW9uQm94LmhlaWdodCwgZmFsc2UpO1xuICAgIGJvZHkuc2V0T2Zmc2V0KDUsIHRoaXMuaGVpZ2h0IC0gY29sbGlzaW9uQm94LmhlaWdodCk7XG4gICAgYm9keS5yZXNldCh4LCB5KTtcbiAgICB0aGlzLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcblxuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgfVxuXG4gIGp1bXAoKSB7XG4gICAgdGhpcy5zZXRWZWxvY2l0eVkoLTYwMCk7XG4gIH1cblxuICBoaXQoKSB7XG4gICAgaWYgKHRoaXMuX2JsaW5rRWZmZWN0LnBhdXNlZCkge1xuICAgICAgdGhpcy5fYmxpbmtFZmZlY3QucGF1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9ibGlua0VmZmVjdC5wYXVzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICB9LCBbXSwgdGhpcyk7XG4gICAgICB0aGlzLmVtaXQoJ2hpdCcpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3N3aXRjaFZpc2liaWxpdHkoKSB7XG4gICAgdGhpcy5zZXRWaXNpYmxlKCF0aGlzLnZpc2libGUpO1xuICB9XG5cbiAgc3RhdGljIHNldHVwQW5pbWF0aW9ucyhzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgY29uc3QgYW5pbXMgPSBzY2VuZS5hbmltcztcbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnYmVhLXJ1bm5pbmcnLFxuICAgICAgZnJhbWVzOiBhbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdjaGFyYWN0ZXJzJyxcbiAgICAgICAgeyBwcmVmaXg6ICdCZWFfUnVuJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogNCwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcblxuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdzYWx2YS1ydW5uaW5nJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnY2hhcmFjdGVycycsXG4gICAgICAgIHsgcHJlZml4OiAnU2FsdmFfUnVuJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogNCwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogNSxcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcblxuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdiZWEtaWRsZScsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ2NoYXJhY3RlcnMnLFxuICAgICAgICB7IHByZWZpeDogJ0JlYV9JZGxlJywgemVyb1BhZDogMiwgc3RhcnQ6IDEsIGVuZDogMiwgc3VmZml4OiAnLnBuZycgfVxuICAgICAgKSxcbiAgICAgIGZyYW1lUmF0ZTogMixcbiAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICB9KTtcblxuICAgIGFuaW1zLmNyZWF0ZSh7XG4gICAgICBrZXk6ICdzYWx2YS1pZGxlJyxcbiAgICAgIGZyYW1lczogYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKFxuICAgICAgICAnY2hhcmFjdGVycycsXG4gICAgICAgIHsgcHJlZml4OiAnU2FsdmFfSWRsZScsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDIsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDIsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG5cbiAgICBhbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnYmVhLXdpbicsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ2NoYXJhY3RlcnMnLFxuICAgICAgICB7IHByZWZpeDogJ0JlYV9XaW4nLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAzLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuXG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ3NhbHZhLXdpbicsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ2NoYXJhY3RlcnMnLFxuICAgICAgICB7IHByZWZpeDogJ1NhbHZhX1dpbicsIHplcm9QYWQ6IDIsIHN0YXJ0OiAxLCBlbmQ6IDMsIHN1ZmZpeDogJy5wbmcnIH1cbiAgICAgICksXG4gICAgICBmcmFtZVJhdGU6IDUsXG4gICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgQXJjYWRlID0gUGhhc2VyLlBoeXNpY3MuQXJjYWRlO1xuXG5leHBvcnQgY2xhc3MgQ2Fjb3RhIGV4dGVuZHMgQXJjYWRlLlNwcml0ZSB7XG5cbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIHN1cGVyKHNjZW5lLCAwLCAwLCAnb2JzdGFjbGVzJyk7XG4gIH1cblxuICBzaG93KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5hbmltcy5wbGF5KCdjYWNvdGEnKTtcblxuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmJvZHkgYXMgQXJjYWRlLkJvZHk7XG4gICAgYm9keS5yZXNldCh4LCB5KTtcbiAgICBib2R5LnNldFNpemUodGhpcy53aWR0aC8yLCB0aGlzLmhlaWdodC8yLCBmYWxzZSk7XG4gICAgYm9keS5zZXRPZmZzZXQoMCwgdGhpcy5oZWlnaHQvMik7XG4gICAgdGhpcy5zZXRCb3VuY2UoMC40KTtcbiAgICB0aGlzLnNldFZlbG9jaXR5WCgtMzAwKTtcblxuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5ib2R5LnJpZ2h0IDwgLTEwKSB7XG4gICAgICB0aGlzLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzZXR1cEFuaW1hdGlvbnMoc2NlbmU6IFBoYXNlci5TY2VuZSkge1xuICAgIGNvbnN0IGFuaW1zID0gc2NlbmUuYW5pbXM7XG4gICAgYW5pbXMuY3JlYXRlKHtcbiAgICAgIGtleTogJ2NhY290YScsXG4gICAgICBmcmFtZXM6IGFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhcbiAgICAgICAgJ29ic3RhY2xlcycsXG4gICAgICAgIHsgcHJlZml4OiAnUG9vX0lkbGUnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiAzLCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiA1LFxuICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXInO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbCB7XG5cbiAgcHJpdmF0ZSBfcG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXI7XG5cbiAgcHJpdmF0ZSBfY3Vyc29yczogUGhhc2VyLklucHV0LktleWJvYXJkLkN1cnNvcktleXM7XG5cbiAgcHJpdmF0ZSBfcGxheWVyOiBQbGF5ZXI7XG5cbiAgcHJpdmF0ZSBfanVtcERlYWRsaW5lOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoY3Vyc29yczogUGhhc2VyLklucHV0LktleWJvYXJkLkN1cnNvcktleXMsIHBvaW50ZXI6IFBoYXNlci5JbnB1dC5Qb2ludGVyLCBwbGF5ZXI6IFBsYXllcikge1xuICAgIHRoaXMuX2N1cnNvcnMgPSBjdXJzb3JzO1xuICAgIHRoaXMuX3BvaW50ZXIgPSBwb2ludGVyO1xuICAgIHRoaXMuX3BsYXllciA9IHBsYXllcjtcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpIHtcbiAgICB0aGlzLl9yZXNvbHZlSnVtcCh0aW1lLCBkZWx0YSk7XG4gIH1cblxuICBwcml2YXRlIF9yZXNvbHZlSnVtcCh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpIHtcbiAgICBjb25zdCBvblRoZUdyb3VuZCA9IHRoaXMuX3BsYXllci5ib2R5LnRvdWNoaW5nLmRvd247XG4gICAgY29uc3Qgd2FudEp1bXAgPSB0aGlzLl9jdXJzb3JzLnNwYWNlLmlzRG93biB8fCB0aGlzLl9wb2ludGVyLmlzRG93bjtcbiAgICBpZiAod2FudEp1bXAgJiYgb25UaGVHcm91bmQpIHtcbiAgICAgIHRoaXMuX2p1bXBEZWFkbGluZSA9IHRpbWUgKyAyMDA7XG4gICAgfVxuICAgIGlmICh3YW50SnVtcCAmJiB0aW1lIDwgdGhpcy5fanVtcERlYWRsaW5lKSB7XG4gICAgICB0aGlzLl9wbGF5ZXIuanVtcCgpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IExheWVycyB9IGZyb20gJy4vZGVwdGhzJztcblxuZnVuY3Rpb24gb25lT2Y8VD4obDogQXJyYXk8VD4pOiBUIHtcbiAgcmV0dXJuIGxbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbC5sZW5ndGgpXTtcbn1cblxuZnVuY3Rpb24gYmV0d2VlbihtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCBsZW5ndGggPSBtYXggLSBtaW47XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogbGVuZ3RoICsgbWluO1xufVxuXG5jbGFzcyBEZWNvcmF0aW9uIGV4dGVuZHMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLlNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBzdXBlcihzY2VuZSwgMCwgMCwgJ2RlY28nKTtcbiAgICB0aGlzLl9kaXNhYmxlKCk7XG4gIH1cblxuICBfZGlzYWJsZSgpIHtcbiAgICB0aGlzLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5ib2R5LnJpZ2h0IDwgLTEwKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlKCk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEdyYXNzRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XG4gICAgc3VwZXIoc2NlbmUpO1xuICAgIHRoaXMuc2V0T3JpZ2luKDAuNSwgMSk7XG4gIH1cblxuICBzaG93KGdyb3VuZEhlaWdodDogbnVtYmVyLCBkZXB0aDogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRGcmFtZShvbmVPZihbXG4gICAgICAnR3Jhc3MwMS5wbmcnLFxuICAgICAgJ0dyYXNzMDIucG5nJyxcbiAgICAgICdHcmFzczAzLnBuZydcbiAgICBdKSk7XG4gICAgdGhpcy5kZXB0aCA9IGRlcHRoO1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XG4gICAgYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xuICAgIGNvbnN0IG1haW5DYW1lcmEgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbjtcbiAgICBib2R5LnJlc2V0KFxuICAgICAgYmV0d2VlbihtYWluQ2FtZXJhLndpZHRoICsgdGhpcy53aWR0aCwgbWFpbkNhbWVyYS53aWR0aCAqIDIpLFxuICAgICAgZ3JvdW5kSGVpZ2h0XG4gICAgKTtcbiAgICB0aGlzLnNldFZlbG9jaXR5WCgtMzAwKTtcbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gIH1cbn1cblxuY2xhc3MgQ2xvdWREZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICBzdXBlcihzY2VuZSk7XG4gICAgdGhpcy5zZXRPcmlnaW4oMC41LCAxKTtcbiAgfVxuXG4gIHNob3coZ3JvdW5kSGVpZ2h0OiBudW1iZXIsIGRlcHRoOiBudW1iZXIpIHtcbiAgICB0aGlzLnNldEZyYW1lKG9uZU9mKFtcbiAgICAgICdDbG91ZDAxLnBuZycsXG4gICAgICAnQ2xvdWQwMi5wbmcnLFxuICAgICAgJ0Nsb3VkMDMucG5nJyxcbiAgICAgICdDbG91ZDA0LnBuZydcbiAgICBdKSk7XG4gICAgY29uc3QgYm9keSA9IHRoaXMuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcbiAgICBjb25zdCBzaG93SGVpZ2h0ID0gTWF0aC5mbG9vcihiZXR3ZWVuKHRoaXMuaGVpZ2h0LCBncm91bmRIZWlnaHQpKTtcbiAgICBjb25zdCBtYWluQ2FtZXJhID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW47XG4gICAgYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xuICAgIGJvZHkucmVzZXQoXG4gICAgICBiZXR3ZWVuKG1haW5DYW1lcmEud2lkdGggKyB0aGlzLndpZHRoLCBtYWluQ2FtZXJhLndpZHRoICogMiksXG4gICAgICBzaG93SGVpZ2h0XG4gICAgKTtcbiAgICBjb25zdCBbdiwgZGVwdGhPZmZzZXRdID0gb25lT2YoW1sxMCwgMF0sIFsxMDAsIDFdLCBbMzAwLCAyXV0pO1xuICAgIHRoaXMuZGVwdGggPSBkZXB0aCArIGRlcHRoT2Zmc2V0O1xuICAgIHRoaXMuc2V0VmVsb2NpdHlYKC1iZXR3ZWVuKHYgKiAwLjgsIHYgKiAxLjIpKTtcbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJnTWFuYWdlciBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcblxuICBwcml2YXRlIF9ncm91bmQ6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XG5cbiAgcHJpdmF0ZSBfZ3JvdW5kSGVpZ2h0OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfYmdEZXB0aDogbnVtYmVyO1xuXG4gIHByaXZhdGUgX2ZnRGVwdGg6IG51bWJlcjtcblxuICBwcml2YXRlIF9ncmFzczogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkdyb3VwO1xuXG4gIHByaXZhdGUgX2Nsb3VkczogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkdyb3VwO1xuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIGdyb3VuZDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSwgYmdEZXB0aDogbnVtYmVyLCBmZ0RlcHRoOiBudW1iZXIpIHtcbiAgICBzdXBlcihzY2VuZSwgJ2JnLW1hbmFnZXInKTtcbiAgICB0aGlzLl9ncm91bmQgPSBncm91bmQ7XG4gICAgdGhpcy5fZ3JvdW5kSGVpZ2h0ID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uaGVpZ2h0IC0gdGhpcy5fZ3JvdW5kLmhlaWdodDtcbiAgICB0aGlzLl9iZ0RlcHRoID0gYmdEZXB0aDtcbiAgICB0aGlzLl9mZ0RlcHRoID0gZmdEZXB0aDtcbiAgICB0aGlzLl9ncmFzcyA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZ3JvdXAoe1xuICAgICAgY2xhc3NUeXBlOiBHcmFzc0RlY29yYXRpb24sXG4gICAgICBtYXhTaXplOiAyMCxcbiAgICAgIHJ1bkNoaWxkVXBkYXRlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5fY2xvdWRzID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5ncm91cCh7XG4gICAgICBjbGFzc1R5cGU6IENsb3VkRGVjb3JhdGlvbixcbiAgICAgIG1heFNpemU6IDEwLFxuICAgICAgcnVuQ2hpbGRVcGRhdGU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuX2dyb3VuZCwgdGhpcy5fZ3Jhc3MpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC40KSB7XG4gICAgICBjb25zdCBncmFzcyA9IHRoaXMuX2dyYXNzLmdldCgpO1xuICAgICAgaWYgKGdyYXNzKSB7XG4gICAgICAgIGdyYXNzLnNob3codGhpcy5fZ3JvdW5kSGVpZ2h0LCB0aGlzLl9mZ0RlcHRoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjbG91ZCA9IHRoaXMuX2Nsb3Vkcy5nZXQoKTtcbiAgICBpZiAoY2xvdWQpIHtcbiAgICAgIGNsb3VkLnNob3codGhpcy5fZ3JvdW5kSGVpZ2h0IC8gNiAqIDUsIHRoaXMuX2JnRGVwdGgpO1xuICAgIH1cbiAgfVxufSIsIlxuZXhwb3J0IGVudW0gTGF5ZXJzIHtcbiAgQkcgPSAwLFxuICBCR19FTEVNRU5UUyA9IDEwLFxuICBQTEFZRVIgPSAxMDAsXG4gIE9CU1RBQ0xFUyA9IDExMCxcbiAgRkcgPSAyMDAsXG4gIFVJID0gMzAwXG59IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXInO1xuaW1wb3J0IHsgQ2Fjb3RhIH0gZnJvbSAnLi9vYnN0YWNsZXMnO1xuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gJy4vY29udHJvbCc7XG5pbXBvcnQgeyBIYXBweU9NZXRlciB9IGZyb20gJy4vaGFwcHktby1tZXRlcic7XG5pbXBvcnQgeyBCZ01hbmFnZXIgfSBmcm9tICcuL2JhY2tncm91bmRzJztcblxuY29uc3QgcGh5c2ljYWxSZXNvbHV0aW9uID0ge1xuICB3aWR0aDogODAwLFxuICBoZWlnaHQ6IDQ1MFxufTtcblxuaW1wb3J0IEFyY2FkZSA9IFBoYXNlci5QaHlzaWNzLkFyY2FkZTtcbmltcG9ydCB7IExheWVycyB9IGZyb20gJy4vZGVwdGhzJztcbmNsYXNzIE1haW5UcmFjayBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG5cbiAgY29udHJvbDogQ29udHJvbDtcblxuICBoYXB5bmVzczogSGFwcHlPTWV0ZXI7XG5cbiAgcGxheWVyOiBQbGF5ZXI7XG5cbiAgZ3JvdW5kTGluZTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLlNwcml0ZTtcblxuICBqdW1wRGVhZGxpbmU6IG51bWJlcjtcblxuICBhbm90aGVyT2JzdGFjbGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIG9ic3RhY2xlczogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkdyb3VwO1xuXG4gIGJhY2tncm91bmQ6IEJnTWFuYWdlcjtcblxuICBwcmVsb2FkKCkge1xuICAgIHRoaXMubG9hZC5pbWFnZSgnYmcnLCAnYXNzZXRzL2Vudmlyb25tZW50cy9iYWNrZ3JvdW5kLXRlc3QucG5nJyk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdncm91bmQnLCAnYXNzZXRzL2Vudmlyb25tZW50cy9ncm91bmQtbGluZS5wbmcnKTtcbiAgICB0aGlzLmxvYWQuYXRsYXMoXG4gICAgICAnY2hhcmFjdGVycycsXG4gICAgICAnYXNzZXRzL2NoYXJhY3RlcnMvY2hhcmFjdGVycy5wbmcnLFxuICAgICAgJ2Fzc2V0cy9jaGFyYWN0ZXJzL2NoYXJhY3RlcnMuanNvbidcbiAgICApO1xuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICdvYnN0YWNsZXMnLFxuICAgICAgJ2Fzc2V0cy9vYnN0YWNsZXMvb2JzdGFjbGVzLnBuZycsXG4gICAgICAnYXNzZXRzL29ic3RhY2xlcy9vYnN0YWNsZXMuanNvbidcbiAgICApO1xuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICd1aScsXG4gICAgICAnYXNzZXRzL3VpL3VpLnBuZycsXG4gICAgICAnYXNzZXRzL3VpL3VpLmpzb24nXG4gICAgKVxuICAgIHRoaXMubG9hZC5hdGxhcyhcbiAgICAgICdkZWNvJyxcbiAgICAgICdhc3NldHMvZW52aXJvbm1lbnRzL2RlY28ucG5nJyxcbiAgICAgICdhc3NldHMvZW52aXJvbm1lbnRzL2RlY28uanNvbidcbiAgICApXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgUGxheWVyLnNldHVwQW5pbWF0aW9ucyh0aGlzKTtcbiAgICBDYWNvdGEuc2V0dXBBbmltYXRpb25zKHRoaXMpO1xuICAgIEhhcHB5T01ldGVyLnNldHVwQW5pbWF0aW9ucyh0aGlzKTtcblxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2JnJykuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgY29uc3QgZ3JvdW5kID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xuICAgIHRoaXMuZ3JvdW5kTGluZSA9IGdyb3VuZC5jcmVhdGUoXG4gICAgICAwLCBwaHlzaWNhbFJlc29sdXRpb24uaGVpZ2h0LFxuICAgICAgJ2dyb3VuZCdcbiAgICApO1xuICAgIHRoaXMuZ3JvdW5kTGluZS5zZXRPcmlnaW4oMCwgMSk7XG4gICAgdGhpcy5ncm91bmRMaW5lLnNldFNjYWxlKDIsIDEpO1xuICAgIHRoaXMuZ3JvdW5kTGluZS5yZWZyZXNoQm9keSgpO1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ldyBCZ01hbmFnZXIodGhpcy5zY2VuZS5zY2VuZSwgdGhpcy5ncm91bmRMaW5lLCBMYXllcnMuQkdfRUxFTUVOVFMsIExheWVycy5GRyk7XG5cbiAgICB0aGlzLm9ic3RhY2xlcyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe1xuICAgICAgY2xhc3NUeXBlOiBDYWNvdGEsXG4gICAgICBtYXhTaXplOiAyMCxcbiAgICAgIHJ1bkNoaWxkVXBkYXRlOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLnBsYXllciA9IHRoaXMuYWRkLmV4aXN0aW5nKG5ldyBQbGF5ZXIodGhpcy5zY2VuZS5zY2VuZSkpIGFzIFBsYXllcjtcbiAgICB0aGlzLnBsYXllci5kZXB0aCA9IExheWVycy5QTEFZRVI7XG4gICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXllcik7XG4gICAgdGhpcy5wbGF5ZXIuc2hvdyhcbiAgICAgIHBoeXNpY2FsUmVzb2x1dGlvbi53aWR0aCAvIDQsXG4gICAgICBwaHlzaWNhbFJlc29sdXRpb24uaGVpZ2h0IC8gMlxuICAgICk7XG5cbiAgICB0aGlzLmlucHV0LmFkZFBvaW50ZXIoKTtcbiAgICB0aGlzLmNvbnRyb2wgPSBuZXcgQ29udHJvbChcbiAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpLFxuICAgICAgdGhpcy5pbnB1dC5wb2ludGVyMSxcbiAgICAgIHRoaXMucGxheWVyXG4gICAgKTtcblxuICAgIHRoaXMuaGFweW5lc3MgPSB0aGlzLmFkZC5leGlzdGluZyhcbiAgICAgIG5ldyBIYXBweU9NZXRlcih0aGlzLnNjZW5lLnNjZW5lLCB0aGlzLnBsYXllciwgTGF5ZXJzLlVJKVxuICAgICkgYXMgSGFwcHlPTWV0ZXI7XG5cbiAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyLCBncm91bmQpO1xuICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5vYnN0YWNsZXMsIGdyb3VuZCk7XG4gICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVyLCB0aGlzLm9ic3RhY2xlcywgKHBsYXllciwgY2Fjb3RhKSA9PiB7XG4gICAgICB0aGlzLnBsYXllci5oaXQoKVxuICAgIH0sIG51bGwsIHRoaXMpO1xuXG4gICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAga2V5OiAnaGlkaW5nLW90dGVyJyxcbiAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoXG4gICAgICAgICdvYnN0YWNsZXMnLFxuICAgICAgICB7IHByZWZpeDogJ090dGVyX0hpZGUnLCB6ZXJvUGFkOiAyLCBzdGFydDogMSwgZW5kOiA0LCBzdWZmaXg6ICcucG5nJyB9XG4gICAgICApLFxuICAgICAgZnJhbWVSYXRlOiAzLFxuICAgICAgcmVwZWF0OiAxXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUodGltZTogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7XG4gICAgdGhpcy5jb250cm9sLnVwZGF0ZSh0aW1lLCBkZWx0YSk7XG4gICAgdGhpcy5oYXB5bmVzcy51cGRhdGUodGltZSwgZGVsdGEpO1xuICAgIHRoaXMuYmFja2dyb3VuZC51cGRhdGUoKTtcbiAgICBpZiAodGhpcy5hbm90aGVyT2JzdGFjbGUpIHtcbiAgICAgIHRoaXMuYW5vdGhlck9ic3RhY2xlID0gZmFsc2U7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYW5vdGhlck9ic3RhY2xlID0gdHJ1ZSwgMTAwMCk7XG4gICAgICBjb25zdCBjYWNvdGEgPSB0aGlzLm9ic3RhY2xlcy5nZXQoKTtcbiAgICAgIGNhY290YS5kZXB0aCA9IExheWVycy5PQlNUQUNMRVM7XG4gICAgICBjYWNvdGEuc2hvdyhwaHlzaWNhbFJlc29sdXRpb24ud2lkdGgsIHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQvMik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIHR5cGU6IFBoYXNlci5BVVRPLFxuICB3aWR0aDogcGh5c2ljYWxSZXNvbHV0aW9uLndpZHRoLFxuICBoZWlnaHQ6IHBoeXNpY2FsUmVzb2x1dGlvbi5oZWlnaHQsXG4gIHBpeGVsQXJ0OiB0cnVlLFxuICBwaHlzaWNzOiB7XG4gICAgZGVmYXVsdDogJ2FyY2FkZScsXG4gICAgYXJjYWRlOiB7XG4gICAgICBncmF2aXR5OiB7IHk6IDQwMDAgfSxcbiAgICAgIGRlYnVnOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgY2FudmFzXG59O1xuXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XG5nYW1lLnNjZW5lLmFkZCgnbWFpbicsIE1haW5UcmFjayk7XG5jYW52YXMucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuXG5mdW5jdGlvbiBzY3JlZW5TaXplQ2hlY2soKSB7XG4gIGNvbnN0IGlzVG9vU21hbGwgPSBzY3JlZW4ud2lkdGggPCBwaHlzaWNhbFJlc29sdXRpb24ud2lkdGggKiAzLzQ7XG4gIGNvbnN0IHRvb1NtYWxsTm90aWNlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1pbmctYXJlYSAubm90aWNlJyk7XG4gIHRvb1NtYWxsTm90aWNlLmhpZGRlbiA9ICFpc1Rvb1NtYWxsO1xufVxud2luZG93Lm9ub3JpZW50YXRpb25jaGFuZ2UgPSBzY3JlZW5TaXplQ2hlY2s7XG5zY3JlZW5TaXplQ2hlY2soKTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGdhbWVDb3ZlcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtaW5nLWFyZWEgLmNvdmVyJyk7XG4gIGdhbWVDb3Zlci5oaWRkZW4gPSB0cnVlO1xuICBjYW52YXMucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgZ2FtZS5zY2VuZS5zdGFydCgnbWFpbicpO1xufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==